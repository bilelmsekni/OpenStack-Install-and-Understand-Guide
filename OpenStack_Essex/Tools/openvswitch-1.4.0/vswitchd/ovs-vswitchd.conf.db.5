'\" p
.TH Open_vSwitch 5 "January 2012" "Open vSwitch" "Open vSwitch Manual"
.\" -*- nroff -*-
.de TQ
.  br
.  ns
.  TP "\\$1"
..
.de ST
.  PP
.  RS -0.15in
.  I "\\$1"
.  RE
..
.SH "Open_vSwitch DATABASE"
A database with this schema holds the configuration for one Open
vSwitch daemon.  The top-level configuration for the daemon is the
\fBOpen_vSwitch\fR table, which must have exactly one
record.  Records in other tables are significant only when they
can be reached directly or indirectly from the \fBOpen_vSwitch\fR table.  Records that are not reachable from
the \fBOpen_vSwitch\fR table are automatically deleted
from the database, except for records in a few distinguished
``root set\(cq\(cq tables.
.SS Common Columns
.PP
Most tables contain two special columns, named \fBother_config\fR
and \fBexternal_ids\fR\.  These columns have the same form and
purpose each place that they appear, so we describe them here to save space
later.
.RS
.TP
\fBother_config\fR: map of string-string pairs
Key-value pairs for configuring rarely used features.  Supported keys,
along with the forms taken by their values, are documented individually
for each table.
.IP
A few tables do not have \fBother_config\fR columns because no
key-value pairs have yet been defined for them.
.TP
\fBexternal_ids\fR: map of string-string pairs
Key-value pairs for use by external frameworks that integrate with Open
vSwitch, rather than by Open vSwitch itself.  System integrators should
either use the Open vSwitch development mailing list to coordinate on
common key-value definitions, or choose key names that are likely to be
unique.  In some cases, where key-value pairs have been defined that are
likely to be widely useful, they are documented individually for each
table.
.RE
.SH "TABLE SUMMARY"
.PP
The following list summarizes the purpose of each of the tables in the
\fBOpen_vSwitch\fR database.  Each table is described in more detail on a later
page.
.IP "Table" 1in
Purpose
.TQ 1in
\fBOpen_vSwitch\fR
Open vSwitch configuration.
.TQ 1in
\fBBridge\fR
Bridge configuration.
.TQ 1in
\fBPort\fR
Port configuration.
.TQ 1in
\fBInterface\fR
One physical network device in a Port.
.TQ 1in
\fBQoS\fR
Quality of Service configuration
.TQ 1in
\fBQueue\fR
QoS output queue.
.TQ 1in
\fBMirror\fR
Port mirroring.
.TQ 1in
\fBController\fR
OpenFlow controller configuration.
.TQ 1in
\fBManager\fR
OVSDB management connection.
.TQ 1in
\fBNetFlow\fR
NetFlow configuration.
.TQ 1in
\fBSSL\fR
SSL configuration.
.TQ 1in
\fBsFlow\fR
sFlow configuration.
.TQ 1in
\fBCapability\fR
Capability configuration.
.\" check if in troff mode (TTY)
.if t \{
.bp
.SH "TABLE RELATIONSHIPS"
.PP
The following diagram shows the relationship among tables in the
database.  Each node represents a table.  Tables that are part of the
``root set'' are shown with double borders.  Each edge leads from the
table that contains it and points to the table that its value
represents.  Edges are labeled with their column names, followed by a
constraint on the number of allowed values: \fB?\fR for zero or one,
\fB*\fR for zero or more, \fB+\fR for one or more.  Thick lines
represent strong references; thin lines represent weak references.
.RS -1in
.\" Generated from vswitch.gv with cksum "3079400319 1035"
.PS
linethick = 1;
linethick = 1;
box at 2.691279811,2.68196 wid 0.5680525378 height 0.335245 "Bridge"
linethick = 1;
box at 0.2607468561,1.8438475 wid 0.5214937122 height 0.335245 "sFlow"
linethick = 1;
box at 0.959202994,1.8438475 wid 0.5494263256 height 0.335245 "Mirror"
linethick = 1;
box at 2.691279811,1.8438475 wid 0.5028675 height 0.335245 "Port"
linethick = 1;
box at 3.510752689,1.8438475 wid 0.800833256 height 0.335245 "Controller"
linethick = 1;
box at 4.423356628,1.8438475 wid 0.689129622 height 0.335245 "NetFlow"
linethick = 0.5;
box at 2.160452878,1.005735 wid 0.5028675 height 0.335245 "QoS"
box at 2.160452878,1.005735 wid 0.447311944444444 height 0.279689444444444
linethick = 0.5;
box at 2.160452878,0.1676225 wid 0.5773656439 height 0.335245 "Queue"
box at 2.160452878,0.1676225 wid 0.521810088344444 height 0.279689444444444
linethick = 0.5;
box at 4.218521933,3.5200725 wid 1.080226439 height 0.335245 "Open_vSwitch"
box at 4.218521933,3.5200725 wid 1.02467088344444 height 0.279689444444444
linethick = 1;
box at 3.529392311,2.68196 wid 0.791580494 height 0.335245 "Capability"
linethick = 1;
box at 4.916904317,2.68196 wid 0.5028675 height 0.335245 "SSL"
linethick = 1;
box at 5.689845189,2.68196 wid 0.717022006 height 0.335245 "Manager"
linethick = 1;
box at 2.942713561,1.005735 wid 0.726341817 height 0.335245 "Interface"
linethick = 1;
spline -> from 2.411216138,2.64038962 to 2.411216138,2.64038962 to 2.110501373,2.590639262 to 1.621781212,2.494960339 to 1.219889506,2.346715 to 0.974758362,2.256265899 to 0.712999066,2.115798244 to 0.5250137847,2.006240178
"sflow?" at 1.429417631,2.26290375
linethick = 1;
spline -> from 2.409137619,2.545448236 to 2.409137619,2.545448236 to 2.08321243,2.387748988 to 1.550776321,2.130079681 to 1.229812758,1.974794197
"mirrors*" at 2.253583939,2.26290375
linethick = 1;
spline -> from 2.691279811,2.51232603 to 2.691279811,2.51232603 to 2.691279811,2.366963798 to 2.691279811,2.158508457 to 2.691279811,2.013213274
"ports*" at 2.891488125,2.26290375
linethick = 1;
spline -> from 2.937148494,2.511990785 to 2.937148494,2.511990785 to 3.002387171,2.46203928 to 3.0708442,2.40504763 to 3.128975683,2.346715 to 3.230286722,2.244934618 to 3.327910066,2.115664146 to 3.399049055,2.013682617
"controller*" at 3.613203561,2.26290375
linethick = 1;
spline -> from 2.974025444,2.543101521 to 2.974025444,2.543101521 to 3.000845044,2.532507779 to 3.02793284,2.522651576 to 3.054484244,2.5143375 to 3.459527253,2.387078498 to 3.62668041,2.557986399 to 3.994980567,2.346715 to 4.133302654,2.267396033 to 4.247688248,2.125989692 to 4.323386569,2.013213274
"netflow?" at 4.474582064,2.26290375
linethick = 0.5;
spline -> from 1.237456344,1.8438475 to 1.237456344,1.8438475 to 1.569281845,1.8438475 to 2.119083645,1.8438475 to 2.439041473,1.8438475
"select_src_port*" at 1.834527689,1.92765875
linethick = 0.5;
spline -> from 1.215196076,1.675420412 to 1.215196076,1.675420412 to 1.2471114,1.660535534 to 1.280166557,1.647796224 to 1.313020567,1.638945756 to 1.76070674,1.518726899 to 1.909823716,1.513430028 to 2.356034811,1.638945756 to 2.387547841,1.647863273 to 2.419060871,1.660602583 to 2.449367019,1.675420412
"output_port?" at 1.834527689,1.722757006
linethick = 0.5;
spline -> from 1.027123631,1.675018118 to 1.027123631,1.675018118 to 1.084316428,1.557883515 to 1.178520273,1.410845058 to 1.313020567,1.34098 to 1.724433231,1.127428935 to 1.947304107,1.122266162 to 2.356034811,1.34098 to 2.487383802,1.411314401 to 2.576156678,1.558285809 to 2.629192437,1.675353363
"select_dst_port*" at 1.834527689,1.42479125
linethick = 1;
spline -> from 2.582124039,1.673408942 to 2.582124039,1.673408942 to 2.548331343,1.620641379 to 2.511119148,1.5622417 to 2.477058256,1.5086025 to 2.40638861,1.397100013 to 2.327203741,1.271383138 to 2.265719808,1.173558647
"qos?" at 2.621414753,1.42479125
linethick = 1;
spline -> from 2.742170002,1.67421353 to 2.742170002,1.67421353 to 2.785751852,1.528851298 to 2.848308569,1.320395957 to 2.891890419,1.175100774
"interfaces+" at 3.212786933,1.42479125
linethick = 1;
spline -> from 2.160452878,0.83610103 to 2.160452878,0.83610103 to 2.160452878,0.690738798 to 2.160452878,0.4823102766 to 2.160452878,0.3369748642
"queues value*" at 2.626108183,0.58667875
linethick = 1;
spline -> from 3.676631915,3.429757497 to 3.676631915,3.429757497 to 3.372899945,3.369815691 to 3.032089878,3.28406002 to 2.914754128,3.1848275 to 2.814113579,3.09967527 to 2.75705488,2.96021335 to 2.725810046,2.849716598
"bridges*" at 3.1848275,3.10101625
linethick = 1;
spline -> from 3.710961003,3.350840824 to 3.710961003,3.350840824 to 3.642839219,3.307124876 to 3.581690531,3.252614039 to 3.538712122,3.1848275 to 3.47649065,3.086801862 to 3.476356552,2.95484943 to 3.490637989,2.850789382
"capabilities value*" at 4.125390872,3.10101625
linethick = 1;
spline -> from 4.526209794,3.352114755 to 4.526209794,3.352114755 to 4.593862235,3.304711112 to 4.66057599,3.248457001 to 4.712069622,3.1848275 to 4.790919246,3.087405303 to 4.843150417,2.955452871 to 4.87513279,2.851191676
"ssl?" at 4.930917558,3.10101625
linethick = 1;
spline -> from 4.735067429,3.351645412 to 4.735067429,3.351645412 to 4.853341865,3.304577014 to 4.976108584,3.24852405 to 5.084526817,3.1848275 to 5.243567045,3.091361194 to 5.403210714,2.956659753 to 5.518602043,2.850185941
"manager_options*" at 5.908693125,3.10101625
.PE
.RE\}
.bp
.SH "Open_vSwitch TABLE"
Configuration for an Open vSwitch daemon.  There must be exactly
one record in the \fBOpen_vSwitch\fR table.
.SS "Summary:
.TQ .25in
\fIConfiguration:\fR
.RS .25in
.TQ 2.75in
\fBbridges\fR
set of \fBBridge\fRs
.TQ 2.75in
\fBssl\fR
optional \fBSSL\fR
.TQ 2.75in
\fBexternal_ids : system-id\fR
optional string
.TQ 2.75in
\fBexternal_ids : xs-system-uuid\fR
optional string
.RE
.TQ .25in
\fIStatus:\fR
.RS .25in
.TQ 2.75in
\fBnext_cfg\fR
integer
.TQ 2.75in
\fBcur_cfg\fR
integer
.TQ 2.75in
\fBcapabilities\fR
map of string-\fBCapability\fR pairs
.TQ .25in
\fIStatistics:\fR
.RS .25in
.TQ 2.50in
\fBother_config : enable-statistics\fR
optional string, either \fBtrue\fR or \fBfalse\fR
.TQ 2.50in
\fBstatistics : cpu\fR
optional string, containing an integer, at least 1
.TQ 2.50in
\fBstatistics : load_average\fR
optional string
.TQ 2.50in
\fBstatistics : memory\fR
optional string
.TQ 2.50in
\fBstatistics : process_NAME\fR
optional string
.TQ 2.50in
\fBstatistics : file_systems\fR
optional string
.RE
.RE
.TQ .25in
\fIVersion Reporting:\fR
.RS .25in
.TQ 2.75in
\fBovs_version\fR
optional string
.TQ 2.75in
\fBdb_version\fR
optional string
.TQ 2.75in
\fBsystem_type\fR
optional string
.TQ 2.75in
\fBsystem_version\fR
optional string
.RE
.TQ .25in
\fIDatabase Configuration:\fR
.RS .25in
.TQ 2.75in
\fBmanager_options\fR
set of \fBManager\fRs
.RE
.TQ .25in
\fICommon Columns:\fR
.RS .25in
.TQ 2.75in
\fBother_config\fR
map of string-string pairs
.TQ 2.75in
\fBexternal_ids\fR
map of string-string pairs
.RE
.SS "Details:
.ST "Configuration:"
.IP "\fBbridges\fR: set of \fBBridge\fRs"
Set of bridges managed by the daemon.
.IP "\fBssl\fR: optional \fBSSL\fR"
SSL used globally by the daemon.
.IP "\fBexternal_ids : system-id\fR: optional string"
A unique identifier for the Open vSwitch\(cqs physical host.
The form of the identifier depends on the type of the host.
On a Citrix XenServer, this will likely be the same as
\fBexternal_ids:xs-system-uuid\fR\.
.IP "\fBexternal_ids : xs-system-uuid\fR: optional string"
The Citrix XenServer universally unique identifier for the physical
host as displayed by \fBxe host\-list\fR\.
.ST "Status:"
.IP "\fBnext_cfg\fR: integer"
Sequence number for client to increment.  When a client modifies
any part of the database configuration and wishes to wait for
Open vSwitch to finish applying the changes, it may increment
this sequence number.
.IP "\fBcur_cfg\fR: integer"
Sequence number that Open vSwitch sets to the current value of
\fBnext_cfg\fR after it finishes applying a set of
configuration changes.
.IP "\fBcapabilities\fR: map of string-\fBCapability\fR pairs"
Describes functionality supported by the hardware and software platform
on which this Open vSwitch is based.  Clients should not modify this
column.  See the \fBCapability\fR description for defined
capability categories and the meaning of associated
\fBCapability\fR records.
.ST "Statistics:"
The \fBstatistics\fR column contains key-value pairs that
report statistics about a system running an Open vSwitch.  These are
updated periodically (currently, every 5 seconds).  Key-value pairs
that cannot be determined or that do not apply to a platform are
omitted.
.IP "\fBother_config : enable-statistics\fR: optional string, either \fBtrue\fR or \fBfalse\fR"
Statistics are disabled by default to avoid overhead in the common
case when statistics gathering is not useful.  Set this value to
\fBtrue\fR to enable populating the \fBstatistics\fR
column or to \fBfalse\fR to explicitly disable it.
.IP "\fBstatistics : cpu\fR: optional string, containing an integer, at least 1"
Number of CPU processors, threads, or cores currently online and
available to the operating system on which Open vSwitch is running,
as an integer.  This may be less than the number installed, if some
are not online or if they are not available to the operating
system.
.IP
Open vSwitch userspace processes are not multithreaded, but the
Linux kernel-based datapath is.
.IP "\fBstatistics : load_average\fR: optional string"
A comma-separated list of three floating-point numbers,
representing the system load average over the last 1, 5, and 15
minutes, respectively.
.IP "\fBstatistics : memory\fR: optional string"
A comma-separated list of integers, each of which represents a
quantity of memory in kilobytes that describes the operating
system on which Open vSwitch is running.  In respective order,
these values are:
.RS
.IP 1. .25in
Total amount of RAM allocated to the OS.
.IP 2. .25in
RAM allocated to the OS that is in use.
.IP 3. .25in
RAM that can be flushed out to disk or otherwise discarded
if that space is needed for another purpose.  This number is
necessarily less than or equal to the previous value.
.IP 4. .25in
Total disk space allocated for swap.
.IP 5. .25in
Swap space currently in use.
.RE
.IP
On Linux, all five values can be determined and are included.  On
other operating systems, only the first two values can be
determined, so the list will only have two values.
.IP "\fBstatistics : process_NAME\fR: optional string"
One such key-value pair, with \fBNAME\fR replaced by
a process name, will exist for each running Open vSwitch
daemon process, with \fIname\fR replaced by the
daemon\(cqs name (e.g. \fBprocess_ovs\-vswitchd\fR).  The
value is a comma-separated list of integers.  The integers
represent the following, with memory measured in kilobytes
and durations in milliseconds:
.RS
.IP 1. .25in
The process\(cqs virtual memory size.
.IP 2. .25in
The process\(cqs resident set size.
.IP 3. .25in
The amount of user and system CPU time consumed by the
process.
.IP 4. .25in
The number of times that the process has crashed and been
automatically restarted by the monitor.
.IP 5. .25in
The duration since the process was started.
.IP 6. .25in
The duration for which the process has been running.
.RE
.IP
The interpretation of some of these values depends on whether the
process was started with the \fB\-\-monitor\fR\.  If it
was not, then the crash count will always be 0 and the two
durations will always be the same.  If \fB\-\-monitor\fR
was given, then the crash count may be positive; if it is, the
latter duration is the amount of time since the most recent crash
and restart.
.IP
There will be one key-value pair for each file in Open vSwitch\(cqs
``run directory\(cq\(cq (usually \fB/var/run/openvswitch\fR)
whose name ends in \fB\.pid\fR, whose contents are a
process ID, and which is locked by a running process.  The
\fIname\fR is taken from the pidfile\(cqs name.
.IP
Currently Open vSwitch is only able to obtain all of the above
detail on Linux systems.  On other systems, the same key-value
pairs will be present but the values will always be the empty
string.
.IP "\fBstatistics : file_systems\fR: optional string"
A space-separated list of information on local, writable file
systems.  Each item in the list describes one file system and
consists in turn of a comma-separated list of the following:
.RS
.IP 1. .25in
Mount point, e.g. \fB/\fR or \fB/var/log\fR\.
Any spaces or commas in the mount point are replaced by
underscores.
.IP 2. .25in
Total size, in kilobytes, as an integer.
.IP 3. .25in
Amount of storage in use, in kilobytes, as an integer.
.RE
.IP
This key-value pair is omitted if there are no local, writable
file systems or if Open vSwitch cannot obtain the needed
information.
.ST "Version Reporting:"
These columns report the types and versions of the hardware and
software running Open vSwitch.  We recommend in general that software
should test whether specific features are supported instead of relying
on version number checks.  These values are primarily intended for
reporting to human administrators.
.IP "\fBovs_version\fR: optional string"
The Open vSwitch version number, e.g. \fB1.1.0\fR\.
If Open vSwitch was configured with a build number, then it is
also included, e.g. \fB1.1.0+build6579\fR\.
.IP "\fBdb_version\fR: optional string"
The database schema version number in the form
\fB\fImajor\fB\.\fIminor\fB\.\fItweak\fB\fR,
e.g. \fB1.2.3\fR\.  Whenever the database schema is changed in
a non-backward compatible way (e.g. deleting a column or a table),
\fImajor\fR is incremented.  When the database schema is changed
in a backward compatible way (e.g. adding a new column),
\fIminor\fR is incremented.  When the database schema is changed
cosmetically (e.g. reindenting its syntax), \fItweak\fR is
incremented.
.IP
The schema version is part of the database schema, so it can also be
retrieved by fetching the schema using the Open vSwitch database
protocol.
.IP "\fBsystem_type\fR: optional string"
An identifier for the type of system on top of which Open vSwitch
runs, e.g. \fBXenServer\fR or \fBKVM\fR\.
.IP
System integrators are responsible for choosing and setting an
appropriate value for this column.
.IP "\fBsystem_version\fR: optional string"
The version of the system identified by \fBsystem_type\fR,
e.g. \fB5.6.100\-39265p\fR on XenServer 5.6.100 build 39265.
.IP
System integrators are responsible for choosing and setting an
appropriate value for this column.
.ST "Database Configuration:"
These columns primarily configure the Open vSwitch database
(\fBovsdb\-server\fR), not the Open vSwitch switch
(\fBovs\-vswitchd\fR).  The OVSDB database also uses the \fBssl\fR settings.
.PP
The Open vSwitch switch does read the database configuration to
determine remote IP addresses to which in-band control should apply.
.IP "\fBmanager_options\fR: set of \fBManager\fRs"
Database clients to which the Open vSwitch database server should
connect or to which it should listen, along with options for how these
connection should be configured.  See the \fBManager\fR table
for more information.
.ST "Common Columns:"
The overall purpose of these columns is described under \fBCommon
Columns\fR at the beginning of this document.
.IP "\fBother_config\fR: map of string-string pairs"
.IP "\fBexternal_ids\fR: map of string-string pairs"
.bp
.SH "Bridge TABLE"
Configuration for a bridge within an
\fBOpen_vSwitch\fR\.
.PP
A \fBBridge\fR record represents an Ethernet switch with one or
more ``ports,\(cq\(cq which are the \fBPort\fR records pointed to by
the \fBBridge\fR\(cqs \fBports\fR column.
.SS "Summary:
.TQ .25in
\fICore Features:\fR
.RS .25in
.TQ 2.75in
\fBname\fR
string (must be unique within table)
.TQ 2.75in
\fBports\fR
set of \fBPort\fRs
.TQ 2.75in
\fBmirrors\fR
set of \fBMirror\fRs
.TQ 2.75in
\fBnetflow\fR
optional \fBNetFlow\fR
.TQ 2.75in
\fBsflow\fR
optional \fBsFlow\fR
.TQ 2.75in
\fBflood_vlans\fR
set of up to 4,096 integers, in range 0 to 4,095
.RE
.TQ .25in
\fIOpenFlow Configuration:\fR
.RS .25in
.TQ 2.75in
\fBcontroller\fR
set of \fBController\fRs
.TQ 2.75in
\fBfail_mode\fR
optional string, either \fBsecure\fR or \fBstandalone\fR
.TQ 2.75in
\fBdatapath_id\fR
optional string
.TQ 2.75in
\fBother_config : datapath-id\fR
optional string
.TQ 2.75in
\fBother_config : disable-in-band\fR
optional string, either \fBtrue\fR or \fBfalse\fR
.TQ 2.75in
\fBother_config : in-band-queue\fR
optional string, containing an integer, in range 0 to 4,294,967,295
.RE
.TQ .25in
\fISpanning Tree Configuration:\fR
.RS .25in
.TQ 2.75in
\fBstp_enable\fR
boolean
.TQ 2.75in
\fBother_config : stp-system-id\fR
optional string
.TQ 2.75in
\fBother_config : stp-priority\fR
optional string, containing an integer, in range 0 to 65,535
.TQ 2.75in
\fBother_config : stp-hello-time\fR
optional string, containing an integer, in range 1 to 10
.TQ 2.75in
\fBother_config : stp-max-age\fR
optional string, containing an integer, in range 6 to 40
.TQ 2.75in
\fBother_config : stp-forward-delay\fR
optional string, containing an integer, in range 4 to 30
.RE
.TQ .25in
\fIOther Features:\fR
.RS .25in
.TQ 2.75in
\fBdatapath_type\fR
string
.TQ 2.75in
\fBexternal_ids : bridge-id\fR
optional string
.TQ 2.75in
\fBexternal_ids : xs-network-uuids\fR
optional string
.TQ 2.75in
\fBother_config : hwaddr\fR
optional string
.TQ 2.75in
\fBother_config : flow-eviction-threshold\fR
optional string, containing an integer, at least 0
.TQ 2.75in
\fBother_config : forward-bpdu\fR
optional string, either \fBtrue\fR or \fBfalse\fR
.RE
.TQ .25in
\fIBridge Status:\fR
.RS .25in
.TQ 2.75in
\fBstatus\fR
map of string-string pairs
.TQ 2.75in
\fBstatus : stp_bridge_id\fR
optional string
.TQ 2.75in
\fBstatus : stp_designated_root\fR
optional string
.TQ 2.75in
\fBstatus : stp_root_path_cost\fR
optional string
.RE
.TQ .25in
\fICommon Columns:\fR
.RS .25in
.TQ 2.75in
\fBother_config\fR
map of string-string pairs
.TQ 2.75in
\fBexternal_ids\fR
map of string-string pairs
.RE
.SS "Details:
.ST "Core Features:"
.IP "\fBname\fR: string (must be unique within table)"
Bridge identifier.  Should be alphanumeric and no more than about 8
bytes long.  Must be unique among the names of ports, interfaces, and
bridges on a host.
.IP "\fBports\fR: set of \fBPort\fRs"
Ports included in the bridge.
.IP "\fBmirrors\fR: set of \fBMirror\fRs"
Port mirroring configuration.
.IP "\fBnetflow\fR: optional \fBNetFlow\fR"
NetFlow configuration.
.IP "\fBsflow\fR: optional \fBsFlow\fR"
sFlow configuration.
.IP "\fBflood_vlans\fR: set of up to 4,096 integers, in range 0 to 4,095"
VLAN IDs of VLANs on which MAC address learning should be disabled,
so that packets are flooded instead of being sent to specific ports
that are believed to contain packets\(cq destination MACs.  This should
ordinarily be used to disable MAC learning on VLANs used for
mirroring (RSPAN VLANs).  It may also be useful for debugging.
.IP
SLB bonding (see the \fBbond_mode\fR column in
the \fBPort\fR table) is incompatible with
\fBflood_vlans\fR\.  Consider using another bonding mode or
a different type of mirror instead.
.ST "OpenFlow Configuration:"
.IP "\fBcontroller\fR: set of \fBController\fRs"
OpenFlow controller set.  If unset, then no OpenFlow controllers
will be used.
.IP "\fBfail_mode\fR: optional string, either \fBsecure\fR or \fBstandalone\fR"
When a controller is configured, it is, ordinarily, responsible
for setting up all flows on the switch.  Thus, if the connection to
the controller fails, no new network connections can be set up.
If the connection to the controller stays down long enough,
no packets can pass through the switch at all.  This setting
determines the switch\(cqs response to such a situation.  It may be set
to one of the following:
.RS
.TP
\fBstandalone\fR
If no message is received from the controller for three
times the inactivity probe interval
(see \fBinactivity_probe\fR), then Open vSwitch
will take over responsibility for setting up flows.  In
this mode, Open vSwitch causes the bridge to act like an
ordinary MAC-learning switch.  Open vSwitch will continue
to retry connecting to the controller in the background
and, when the connection succeeds, it will discontinue its
standalone behavior.
.TP
\fBsecure\fR
Open vSwitch will not set up flows on its own when the
controller connection fails or when no controllers are
defined.  The bridge will continue to retry connecting to
any defined controllers forever.
.RE
.IP
If this value is unset, the default is implementation-specific.
.IP
When more than one controller is configured,
\fBfail_mode\fR is considered only when none of the
configured controllers can be contacted.
.IP "\fBdatapath_id\fR: optional string"
Reports the OpenFlow datapath ID in use.  Exactly 16 hex digits.
(Setting this column has no useful effect.  Set \fBother-config:datapath-id\fR instead.)
.IP "\fBother_config : datapath-id\fR: optional string"
Exactly 16 hex digits to set the OpenFlow datapath ID to a specific
value.  May not be all-zero.
.IP "\fBother_config : disable-in-band\fR: optional string, either \fBtrue\fR or \fBfalse\fR"
If set to \fBtrue\fR, disable in-band control on the bridge
regardless of controller and manager settings.
.IP "\fBother_config : in-band-queue\fR: optional string, containing an integer, in range 0 to 4,294,967,295"
A queue ID as a nonnegative integer.  This sets the OpenFlow queue ID
that will be used by flows set up by in-band control on this bridge.
If unset, or if the port used by an in-band control flow does not have
QoS configured, or if the port does not have a queue with the specified
ID, the default queue is used instead.
.ST "Spanning Tree Configuration:"
The IEEE 802.1D Spanning Tree Protocol (STP) is a network protocol
that ensures loop-free topologies.  It allows redundant links to
be included in the network to provide automatic backup paths if
the active links fails.
.IP "\fBstp_enable\fR: boolean"
Enable spanning tree on the bridge.  By default, STP is disabled
on bridges.  Bond, internal, and mirror ports are not supported
and will not participate in the spanning tree.
.IP "\fBother_config : stp-system-id\fR: optional string"
The bridge\(cqs STP identifier (the lower 48 bits of the bridge-id)
in the form
\fIxx\fR:\fIxx\fR:\fIxx\fR:\fIxx\fR:\fIxx\fR:\fIxx\fR\.
By default, the identifier is the MAC address of the bridge.
.IP "\fBother_config : stp-priority\fR: optional string, containing an integer, in range 0 to 65,535"
The bridge\(cqs relative priority value for determining the root
bridge (the upper 16 bits of the bridge-id).  A bridge with the
lowest bridge-id is elected the root.  By default, the priority
is 0x8000.
.IP "\fBother_config : stp-hello-time\fR: optional string, containing an integer, in range 1 to 10"
The interval between transmissions of hello messages by
designated ports, in seconds.  By default the hello interval is
2 seconds.
.IP "\fBother_config : stp-max-age\fR: optional string, containing an integer, in range 6 to 40"
The maximum age of the information transmitted by the bridge
when it is the root bridge, in seconds.  By default, the maximum
age is 20 seconds.
.IP "\fBother_config : stp-forward-delay\fR: optional string, containing an integer, in range 4 to 30"
The delay to wait between transitioning root and designated
ports to \fBforwarding\fR, in seconds.  By default, the
forwarding delay is 15 seconds.
.ST "Other Features:"
.IP "\fBdatapath_type\fR: string"
Name of datapath provider.  The kernel datapath has
type \fBsystem\fR\.  The userspace datapath has
type \fBnetdev\fR\.
.IP "\fBexternal_ids : bridge-id\fR: optional string"
A unique identifier of the bridge.  On Citrix XenServer this will
commonly be the same as
\fBexternal_ids:xs-network-uuids\fR\.
.IP "\fBexternal_ids : xs-network-uuids\fR: optional string"
Semicolon-delimited set of universally unique identifier(s) for the
network with which this bridge is associated on a Citrix XenServer
host.  The network identifiers are RFC 4122 UUIDs as displayed by,
e.g., \fBxe network\-list\fR\.
.IP "\fBother_config : hwaddr\fR: optional string"
An Ethernet address in the form
\fIxx\fR:\fIxx\fR:\fIxx\fR:\fIxx\fR:\fIxx\fR:\fIxx\fR
to set the hardware address of the local port and influence the
datapath ID.
.IP "\fBother_config : flow-eviction-threshold\fR: optional string, containing an integer, at least 0"
A number of flows as a nonnegative integer.  This sets number of
flows at which eviction from the kernel flow table will be triggered.
If there are a large number of flows then increasing this value to
around the number of flows present can result in reduced CPU usage
and packet loss.
.IP
The default is 1000.  Values below 100 will be rounded up to 100.
.IP "\fBother_config : forward-bpdu\fR: optional string, either \fBtrue\fR or \fBfalse\fR"
Option to allow forwarding of BPDU frames when NORMAL action is
invoked.  Frames with reserved Ethernet addresses (e.g. STP
BPDU) will be forwarded when this option is enabled and the
switch is not providing that functionality.  If STP is enabled
on the port, STP BPDUs will never be forwarded.  If the Open
vSwitch bridge is used to connect different Ethernet networks,
and if Open vSwitch node does not run STP, then this option
should be enabled.  Default is disabled, set to
\fBtrue\fR to enable.
.ST "Bridge Status:"
Status information about bridges.
.IP "\fBstatus\fR: map of string-string pairs"
Key-value pairs that report bridge status.
.IP "\fBstatus : stp_bridge_id\fR: optional string"
The bridge-id (in hex) used in spanning tree advertisements.
Configuring the bridge-id is described in the
\fBstp\-system\-id\fR and \fBstp\-priority\fR keys
of the \fBother_config\fR section earlier.
.IP "\fBstatus : stp_designated_root\fR: optional string"
The designated root (in hex) for this spanning tree.
.IP "\fBstatus : stp_root_path_cost\fR: optional string"
The path cost of reaching the designated bridge.  A lower
number is better.
.ST "Common Columns:"
The overall purpose of these columns is described under \fBCommon
Columns\fR at the beginning of this document.
.IP "\fBother_config\fR: map of string-string pairs"
.IP "\fBexternal_ids\fR: map of string-string pairs"
.bp
.SH "Port TABLE"
A port within a \fBBridge\fR\.
.PP
Most commonly, a port has exactly one ``interface,\(cq\(cq pointed to by its
\fBinterfaces\fR column.  Such a port logically
corresponds to a port on a physical Ethernet switch.  A port
with more than one interface is a ``bonded port\(cq\(cq (see
\fBBonding Configuration\fR).
.PP
Some properties that one might think as belonging to a port are actually
part of the port\(cqs \fBInterface\fR members.
.SS "Summary:
.TQ 3.00in
\fBname\fR
string (must be unique within table)
.TQ 3.00in
\fBinterfaces\fR
set of 1 or more \fBInterface\fRs
.TQ .25in
\fIVLAN Configuration:\fR
.RS .25in
.TQ 2.75in
\fBvlan_mode\fR
optional string, one of \fBaccess\fR, \fBnative\-tagged\fR, \fBnative\-untagged\fR, or \fBtrunk\fR
.TQ 2.75in
\fBtag\fR
optional integer, in range 0 to 4,095
.TQ 2.75in
\fBtrunks\fR
set of up to 4,096 integers, in range 0 to 4,095
.TQ 2.75in
\fBother_config : priority-tags\fR
optional string, either \fBtrue\fR or \fBfalse\fR
.RE
.TQ .25in
\fIBonding Configuration:\fR
.RS .25in
.TQ 2.75in
\fBbond_mode\fR
optional string, one of \fBactive\-backup\fR, \fBbalance\-tcp\fR, \fBbalance\-slb\fR, or \fBstable\fR
.TQ .25in
\fILink Failure Detection:\fR
.RS .25in
.TQ 2.50in
\fBother_config : bond-detect-mode\fR
optional string, either \fBmiimon\fR or \fBcarrier\fR
.TQ 2.50in
\fBother_config : bond-miimon-interval\fR
optional string, containing an integer
.TQ 2.50in
\fBbond_updelay\fR
integer
.TQ 2.50in
\fBbond_downdelay\fR
integer
.RE
.TQ .25in
\fILACP Configuration:\fR
.RS .25in
.TQ 2.50in
\fBlacp\fR
optional string, one of \fBactive\fR, \fBpassive\fR, or \fBoff\fR
.TQ 2.50in
\fBother_config : lacp-system-id\fR
optional string
.TQ 2.50in
\fBother_config : lacp-system-priority\fR
optional string, containing an integer, in range 1 to 65,535
.TQ 2.50in
\fBother_config : lacp-time\fR
optional string
.TQ 2.50in
\fBother_config : lacp-heartbeat\fR
optional string, either \fBtrue\fR or \fBfalse\fR
.TQ 2.50in
\fBother_config : bond-hash-basis\fR
optional string, containing an integer
.RE
.TQ .25in
\fISLB Configuration:\fR
.RS .25in
.TQ 2.50in
\fBother_config : bond-rebalance-interval\fR
optional string, containing an integer, in range 1,000 to 10,000
.RE
.TQ 2.75in
\fBbond_fake_iface\fR
boolean
.RE
.TQ .25in
\fISpanning Tree Configuration:\fR
.RS .25in
.TQ 2.75in
\fBother_config : stp-enable\fR
optional string, either \fBtrue\fR or \fBfalse\fR
.TQ 2.75in
\fBother_config : stp-port-num\fR
optional string, containing an integer, in range 1 to 255
.TQ 2.75in
\fBother_config : stp-port-priority\fR
optional string, containing an integer, in range 0 to 255
.TQ 2.75in
\fBother_config : stp-path-cost\fR
optional string, containing an integer, in range 0 to 65,535
.RE
.TQ .25in
\fIOther Features:\fR
.RS .25in
.TQ 2.75in
\fBqos\fR
optional \fBQoS\fR
.TQ 2.75in
\fBmac\fR
optional string
.TQ 2.75in
\fBfake_bridge\fR
boolean
.TQ 2.75in
\fBexternal_ids : fake-bridge-id-*\fR
optional string
.RE
.TQ .25in
\fIPort Status:\fR
.RS .25in
.TQ 2.75in
\fBstatus\fR
map of string-string pairs
.TQ 2.75in
\fBstatus : stp_port_id\fR
optional string
.TQ 2.75in
\fBstatus : stp_state\fR
optional string, one of \fBdisabled\fR, \fBforwarding\fR, \fBlearning\fR, \fBlistening\fR, or \fBblocking\fR
.TQ 2.75in
\fBstatus : stp_sec_in_state\fR
optional string, containing an integer, at least 0
.TQ 2.75in
\fBstatus : stp_role\fR
optional string, one of \fBdesignated\fR, \fBalternate\fR, or \fBroot\fR
.RE
.TQ .25in
\fIPort Statistics:\fR
.RS .25in
.TQ .25in
\fIStatistics: STP transmit and receive counters:\fR
.RS .25in
.TQ 2.50in
\fBstatistics : stp_tx_count\fR
optional integer
.TQ 2.50in
\fBstatistics : stp_rx_count\fR
optional integer
.TQ 2.50in
\fBstatistics : stp_error_count\fR
optional integer
.RE
.RE
.TQ .25in
\fICommon Columns:\fR
.RS .25in
.TQ 2.75in
\fBother_config\fR
map of string-string pairs
.TQ 2.75in
\fBexternal_ids\fR
map of string-string pairs
.RE
.SS "Details:
.IP "\fBname\fR: string (must be unique within table)"
Port name.  Should be alphanumeric and no more than about 8
bytes long.  May be the same as the interface name, for
non-bonded ports.  Must otherwise be unique among the names of
ports, interfaces, and bridges on a host.
.IP "\fBinterfaces\fR: set of 1 or more \fBInterface\fRs"
The port\(cqs interfaces.  If there is more than one, this is a
bonded Port.
.ST "VLAN Configuration:"
Bridge ports support the following types of VLAN configuration:
.RS
.TP
trunk
A trunk port carries packets on one or more specified VLANs
specified in the \fBtrunks\fR column (often, on every
VLAN).  A packet that ingresses on a trunk port is in the VLAN
specified in its 802.1Q header, or VLAN 0 if the packet has no
802.1Q header.  A packet that egresses through a trunk port will
have an 802.1Q header if it has a nonzero VLAN ID.
.IP
Any packet that ingresses on a trunk port tagged with a VLAN that
the port does not trunk is dropped.
.TP
access
An access port carries packets on exactly one VLAN specified in the
\fBtag\fR column.  Packets egressing on an access port
have no 802.1Q header.
.IP
Any packet with an 802.1Q header with a nonzero VLAN ID that
ingresses on an access port is dropped, regardless of whether the
VLAN ID in the header is the access port\(cqs VLAN ID.
.TP
native-tagged
A native-tagged port resembles a trunk port, with the exception that
a packet without an 802.1Q header that ingresses on a native-tagged
port is in the ``native VLAN\(cq\(cq (specified in the \fBtag\fR
column).
.TP
native-untagged
A native-untagged port resembles a native-tagged port, with the
exception that a packet that egresses on a native-untagged port in
the native VLAN will not have an 802.1Q header.
.RE
.PP
A packet will only egress through bridge ports that carry the VLAN of
the packet, as described by the rules above.
.IP "\fBvlan_mode\fR: optional string, one of \fBaccess\fR, \fBnative\-tagged\fR, \fBnative\-untagged\fR, or \fBtrunk\fR"
The VLAN mode of the port, as described above.  When this column is
empty, a default mode is selected as follows:
.RS
.IP \(bu
If \fBtag\fR contains a value, the port is an access
port.  The \fBtrunks\fR column should be empty.
.IP \(bu
Otherwise, the port is a trunk port.  The \fBtrunks\fR
column value is honored if it is present.
.RE
.IP "\fBtag\fR: optional integer, in range 0 to 4,095"
For an access port, the port\(cqs implicitly tagged VLAN.  For a
native-tagged or native-untagged port, the port\(cqs native VLAN.  Must
be empty if this is a trunk port.
.IP "\fBtrunks\fR: set of up to 4,096 integers, in range 0 to 4,095"
For a trunk, native-tagged, or native-untagged port, the 802.1Q VLAN
or VLANs that this port trunks; if it is empty, then the port trunks
all VLANs.  Must be empty if this is an access port.
.IP
A native-tagged or native-untagged port always trunks its native
VLAN, regardless of whether \fBtrunks\fR includes that
VLAN.
.IP "\fBother_config : priority-tags\fR: optional string, either \fBtrue\fR or \fBfalse\fR"
An 802.1Q header contains two important pieces of information: a VLAN
ID and a priority.  A frame with a zero VLAN ID, called a
``priority-tagged\(cq\(cq frame, is supposed to be treated the same way as
a frame without an 802.1Q header at all (except for the priority).
.IP
However, some network elements ignore any frame that has 802.1Q
header at all, even when the VLAN ID is zero.  Therefore, by default
Open vSwitch does not output priority-tagged frames, instead omitting
the 802.1Q header entirely if the VLAN ID is zero.  Set this key to
\fBtrue\fR to enable priority-tagged frames on a port.
.IP
Regardless of this setting, Open vSwitch omits the 802.1Q header on
output if both the VLAN ID and priority would be zero.
.IP
All frames output to native-tagged ports have a nonzero VLAN ID, so
this setting is not meaningful on native-tagged ports.
.ST "Bonding Configuration:"
A port that has more than one interface is a ``bonded port.\(cq\(cq Bonding
allows for load balancing and fail-over.  Some kinds of bonding will
work with any kind of upstream switch:
.RS
.TP
\fBbalance\-slb\fR
Balances flows among slaves based on source MAC address and output
VLAN, with periodic rebalancing as traffic patterns change.
.TP
\fBactive\-backup\fR
Assigns all flows to one slave, failing over to a backup slave when
the active slave is disabled.
.RE
.PP
The following modes require the upstream switch to support 802.3ad with
successful LACP negotiation.  If LACP negotiation fails then
\fBbalance\-slb\fR style flow hashing is used as a fallback:
.RS
.TP
\fBbalance\-tcp\fR
Balances flows among slaves based on L2, L3, and L4 protocol
information such as destination MAC address, IP address, and TCP
port.
.TP
\fBstable\fR
Attempts to always assign a given flow to the same slave
consistently.  In an effort to maintain stability, no load
balancing is done.  Uses a similar hashing strategy to
\fBbalance\-tcp\fR, always taking into account L3 and L4
fields even if LACP negotiations are unsuccessful.
.IP
Slave selection decisions are made based on \fBother_config:bond-stable-id\fR if set.  Otherwise,
OpenFlow port number is used.  Decisions are consistent across all
\fBovs\-vswitchd\fR instances with equivalent
\fBother_config:bond-stable-id\fR
values.
.RE
.PP
These columns apply only to bonded ports.  Their values are
otherwise ignored.
.IP "\fBbond_mode\fR: optional string, one of \fBactive\-backup\fR, \fBbalance\-tcp\fR, \fBbalance\-slb\fR, or \fBstable\fR"
The type of bonding used for a bonded port.  Defaults to
\fBbalance\-slb\fR if unset.
.ST "Link Failure Detection:"
An important part of link bonding is detecting that links are down so
that they may be disabled.  These settings determine how Open vSwitch
detects link failure.
.IP "\fBother_config : bond-detect-mode\fR: optional string, either \fBmiimon\fR or \fBcarrier\fR"
The means used to detect link failures.  Defaults to
\fBcarrier\fR which uses each interface\(cqs carrier to detect
failures.  When set to \fBmiimon\fR, will check for failures
by polling each interface\(cqs MII.
.IP "\fBother_config : bond-miimon-interval\fR: optional string, containing an integer"
The interval, in milliseconds, between successive attempts to poll
each interface\(cqs MII.  Relevant only when \fBother_config:bond-detect-mode\fR is \fBmiimon\fR\.
.IP "\fBbond_updelay\fR: integer"
The number of milliseconds for which carrier must stay up on an
interface before the interface is considered to be up.  Specify
\fB0\fR to enable the interface immediately.
.IP
This setting is honored only when at least one bonded interface is
already enabled.  When no interfaces are enabled, then the first
bond interface to come up is enabled immediately.
.IP "\fBbond_downdelay\fR: integer"
The number of milliseconds for which carrier must stay down on an
interface before the interface is considered to be down.  Specify
\fB0\fR to disable the interface immediately.
.ST "LACP Configuration:"
LACP, the Link Aggregation Control Protocol, is an IEEE standard that
allows switches to automatically detect that they are connected by
multiple links and aggregate across those links.  These settings
control LACP behavior.
.IP "\fBlacp\fR: optional string, one of \fBactive\fR, \fBpassive\fR, or \fBoff\fR"
Configures LACP on this port.  LACP allows directly connected
switches to negotiate which links may be bonded.  LACP may be enabled
on non-bonded ports for the benefit of any switches they may be
connected to.  \fBactive\fR ports are allowed to initiate LACP
negotiations.  \fBpassive\fR ports are allowed to participate
in LACP negotiations initiated by a remote switch, but not allowed to
initiate such negotiations themselves.  Defaults to \fBoff\fR
if unset.
.IP "\fBother_config : lacp-system-id\fR: optional string"
The LACP system ID of this \fBPort\fR\.  The system ID of a
LACP bond is used to identify itself to its partners.  Must be a
nonzero MAC address.
.IP "\fBother_config : lacp-system-priority\fR: optional string, containing an integer, in range 1 to 65,535"
The LACP system priority of this \fBPort\fR\.  In LACP
negotiations, link status decisions are made by the system with the
numerically lower priority.
.IP "\fBother_config : lacp-time\fR: optional string"
The LACP timing which should be used on this \fBPort\fR\.
Possible values are \fBfast\fR, \fBslow\fR and a
positive number of milliseconds.  By default \fBslow\fR is
used.  When configured to be \fBfast\fR LACP heartbeats are
requested at a rate of once per second causing connectivity
problems to be detected more quickly.  In \fBslow\fR mode,
heartbeats are requested at a rate of once every 30 seconds.
.IP
Users may manually set a heartbeat transmission rate to increase
the fault detection speed further.  When manually set, OVS expects
the partner switch to be configured with the same transmission
rate.  Manually setting \fBlacp\-time\fR to something other
than \fBfast\fR or \fBslow\fR is not supported by the
LACP specification.
.IP "\fBother_config : lacp-heartbeat\fR: optional string, either \fBtrue\fR or \fBfalse\fR"
Treat LACP like a simple heartbeat protocol for link state
monitoring.  Most features of the LACP protocol are disabled
when this mode is in use.  The default if not specified is
\fBfalse\fR\.
.IP "\fBother_config : bond-hash-basis\fR: optional string, containing an integer"
An integer hashed along with flows when choosing output slaves.  When
changed, all flows will be assigned different hash values possibly
causing slave selection decisions to change.
.ST "SLB Configuration:"
These settings control behavior when a bond is in
\fBbalance\-slb\fR mode, regardless of whether the bond was
intentionally configured in SLB mode or it fell back to SLB mode
because LACP negotiation failed.
.IP "\fBother_config : bond-rebalance-interval\fR: optional string, containing an integer, in range 1,000 to 10,000"
For an SLB bonded port, the number of milliseconds between successive
attempts to rebalance the bond, that is, to move source MACs and
their flows from one interface on the bond to another in an attempt
to keep usage of each interface roughly equal.
.IP "\fBbond_fake_iface\fR: boolean"
For a bonded port, whether to create a fake internal interface with the
name of the port.  Use only for compatibility with legacy software that
requires this.
.ST "Spanning Tree Configuration:"
.IP "\fBother_config : stp-enable\fR: optional string, either \fBtrue\fR or \fBfalse\fR"
If spanning tree is enabled on the bridge, member ports are
enabled by default (with the exception of bond, internal, and
mirror ports which do not work with STP).  If this column\(cqs
value is \fBfalse\fR spanning tree is disabled on the
port.
.IP "\fBother_config : stp-port-num\fR: optional string, containing an integer, in range 1 to 255"
The port number used for the lower 8 bits of the port-id.  By
default, the numbers will be assigned automatically.  If any
port\(cqs number is manually configured on a bridge, then they
must all be.
.IP "\fBother_config : stp-port-priority\fR: optional string, containing an integer, in range 0 to 255"
The port\(cqs relative priority value for determining the root
port (the upper 8 bits of the port-id).  A port with a lower
port-id will be chosen as the root port.  By default, the
priority is 0x80.
.IP "\fBother_config : stp-path-cost\fR: optional string, containing an integer, in range 0 to 65,535"
Spanning tree path cost for the port.  A lower number indicates
a faster link.  By default, the cost is based on the maximum
speed of the link.
.ST "Other Features:"
.IP "\fBqos\fR: optional \fBQoS\fR"
Quality of Service configuration for this port.
.IP "\fBmac\fR: optional string"
The MAC address to use for this port for the purpose of choosing the
bridge\(cqs MAC address.  This column does not necessarily reflect the
port\(cqs actual MAC address, nor will setting it change the port\(cqs actual
MAC address.
.IP "\fBfake_bridge\fR: boolean"
Does this port represent a sub-bridge for its tagged VLAN within the
Bridge?  See ovs-vsctl(8) for more information.
.IP "\fBexternal_ids : fake-bridge-id-*\fR: optional string"
External IDs for a fake bridge (see the \fBfake_bridge\fR
column) are defined by prefixing a \fBBridge\fR \fBexternal_ids\fR key with
\fBfake\-bridge\-\fR,
e.g. \fBfake\-bridge\-xs\-network\-uuids\fR\.
.ST "Port Status:"
Status information about ports attached to bridges.
.IP "\fBstatus\fR: map of string-string pairs"
Key-value pairs that report port status.
.IP "\fBstatus : stp_port_id\fR: optional string"
The port-id (in hex) used in spanning tree advertisements for
this port.  Configuring the port-id is described in the
\fBstp\-port\-num\fR and \fBstp\-port\-priority\fR
keys of the \fBother_config\fR section earlier.
.IP "\fBstatus : stp_state\fR: optional string, one of \fBdisabled\fR, \fBforwarding\fR, \fBlearning\fR, \fBlistening\fR, or \fBblocking\fR"
STP state of the port.
.IP "\fBstatus : stp_sec_in_state\fR: optional string, containing an integer, at least 0"
The amount of time (in seconds) port has been in the current
STP state.
.IP "\fBstatus : stp_role\fR: optional string, one of \fBdesignated\fR, \fBalternate\fR, or \fBroot\fR"
STP role of the port.
.ST "Port Statistics:"
Key-value pairs that report port statistics.
.ST "Statistics: STP transmit and receive counters:"
.IP "\fBstatistics : stp_tx_count\fR: optional integer"
Number of STP BPDUs sent on this port by the spanning
tree library.
.IP "\fBstatistics : stp_rx_count\fR: optional integer"
Number of STP BPDUs received on this port and accepted by the
spanning tree library.
.IP "\fBstatistics : stp_error_count\fR: optional integer"
Number of bad STP BPDUs received on this port.  Bad BPDUs
include runt packets and those with an unexpected protocol ID.
.ST "Common Columns:"
The overall purpose of these columns is described under \fBCommon
Columns\fR at the beginning of this document.
.IP "\fBother_config\fR: map of string-string pairs"
.IP "\fBexternal_ids\fR: map of string-string pairs"
.bp
.SH "Interface TABLE"
An interface within a \fBPort\fR\.
.SS "Summary:
.TQ .25in
\fICore Features:\fR
.RS .25in
.TQ 2.75in
\fBname\fR
string (must be unique within table)
.TQ 2.75in
\fBmac\fR
optional string
.TQ 2.75in
\fBofport\fR
optional integer
.RE
.TQ .25in
\fISystem-Specific Details:\fR
.RS .25in
.TQ 2.75in
\fBtype\fR
string
.RE
.TQ .25in
\fITunnel Options:\fR
.RS .25in
.TQ 2.75in
\fBoptions : remote_ip\fR
optional string
.TQ 2.75in
\fBoptions : local_ip\fR
optional string
.TQ 2.75in
\fBoptions : in_key\fR
optional string
.TQ 2.75in
\fBoptions : out_key\fR
optional string
.TQ 2.75in
\fBoptions : key\fR
optional string
.TQ 2.75in
\fBoptions : tos\fR
optional string
.TQ 2.75in
\fBoptions : ttl\fR
optional string
.TQ 2.75in
\fBoptions : df_inherit\fR
optional string, either \fBtrue\fR or \fBfalse\fR
.TQ 2.75in
\fBoptions : df_default\fR
optional string, either \fBtrue\fR or \fBfalse\fR
.TQ 2.75in
\fBoptions : pmtud\fR
optional string, either \fBtrue\fR or \fBfalse\fR
.TQ .25in
\fITunnel Options: gre only:\fR
.RS .25in
.TQ 2.50in
\fBoptions : header_cache\fR
optional string, either \fBtrue\fR or \fBfalse\fR
.RE
.TQ .25in
\fITunnel Options: gre and ipsec_gre only:\fR
.RS .25in
.TQ 2.50in
\fBoptions : csum\fR
optional string, either \fBtrue\fR or \fBfalse\fR
.RE
.TQ .25in
\fITunnel Options: ipsec_gre only:\fR
.RS .25in
.TQ 2.50in
\fBoptions : peer_cert\fR
optional string
.TQ 2.50in
\fBoptions : certificate\fR
optional string
.TQ 2.50in
\fBoptions : private_key\fR
optional string
.TQ 2.50in
\fBoptions : psk\fR
optional string
.RE
.RE
.TQ .25in
\fIPatch Options:\fR
.RS .25in
.TQ 2.75in
\fBoptions : peer\fR
optional string
.RE
.TQ .25in
\fIInterface Status:\fR
.RS .25in
.TQ 2.75in
\fBadmin_state\fR
optional string, either \fBdown\fR or \fBup\fR
.TQ 2.75in
\fBlink_state\fR
optional string, either \fBdown\fR or \fBup\fR
.TQ 2.75in
\fBlink_resets\fR
optional integer
.TQ 2.75in
\fBlink_speed\fR
optional integer
.TQ 2.75in
\fBduplex\fR
optional string, either \fBfull\fR or \fBhalf\fR
.TQ 2.75in
\fBmtu\fR
optional integer
.TQ 2.75in
\fBlacp_current\fR
optional boolean
.TQ 2.75in
\fBstatus\fR
map of string-string pairs
.TQ 2.75in
\fBstatus : driver_name\fR
optional string
.TQ 2.75in
\fBstatus : driver_version\fR
optional string
.TQ 2.75in
\fBstatus : firmware_version\fR
optional string
.TQ 2.75in
\fBstatus : source_ip\fR
optional string
.TQ 2.75in
\fBstatus : tunnel_egress_iface\fR
optional string
.TQ 2.75in
\fBstatus : tunnel_egress_iface_carrier\fR
optional string, either \fBdown\fR or \fBup\fR
.RE
.TQ .25in
\fIStatistics:\fR
.RS .25in
.TQ .25in
\fIStatistics: Successful transmit and receive counters:\fR
.RS .25in
.TQ 2.50in
\fBstatistics : rx_packets\fR
optional integer
.TQ 2.50in
\fBstatistics : rx_bytes\fR
optional integer
.TQ 2.50in
\fBstatistics : tx_packets\fR
optional integer
.TQ 2.50in
\fBstatistics : tx_bytes\fR
optional integer
.RE
.TQ .25in
\fIStatistics: Receive errors:\fR
.RS .25in
.TQ 2.50in
\fBstatistics : rx_dropped\fR
optional integer
.TQ 2.50in
\fBstatistics : rx_frame_err\fR
optional integer
.TQ 2.50in
\fBstatistics : rx_over_err\fR
optional integer
.TQ 2.50in
\fBstatistics : rx_crc_err\fR
optional integer
.TQ 2.50in
\fBstatistics : rx_errors\fR
optional integer
.RE
.TQ .25in
\fIStatistics: Transmit errors:\fR
.RS .25in
.TQ 2.50in
\fBstatistics : tx_dropped\fR
optional integer
.TQ 2.50in
\fBstatistics : collisions\fR
optional integer
.TQ 2.50in
\fBstatistics : tx_errors\fR
optional integer
.RE
.RE
.TQ .25in
\fIIngress Policing:\fR
.RS .25in
.TQ 2.75in
\fBingress_policing_rate\fR
integer, at least 0
.TQ 2.75in
\fBingress_policing_burst\fR
integer, at least 0
.RE
.TQ .25in
\fIConnectivity Fault Management:\fR
.RS .25in
.TQ 2.75in
\fBcfm_mpid\fR
optional integer
.TQ 2.75in
\fBcfm_fault\fR
optional boolean
.TQ 2.75in
\fBcfm_remote_mpids\fR
set of integers
.TQ 2.75in
\fBother_config : cfm_interval\fR
optional string, containing an integer
.TQ 2.75in
\fBother_config : cfm_extended\fR
optional string, either \fBtrue\fR or \fBfalse\fR
.TQ 2.75in
\fBother_config : cfm_opstate\fR
optional string, either \fBdown\fR or \fBup\fR
.TQ 2.75in
\fBother_config : cfm_ccm_vlan\fR
optional string, containing an integer, in range 1 to 4,095
.RE
.TQ .25in
\fIBonding Configuration:\fR
.RS .25in
.TQ 2.75in
\fBother_config : bond-stable-id\fR
optional string, containing an integer, at least 1
.TQ 2.75in
\fBother_config : lacp-port-id\fR
optional string, containing an integer, in range 1 to 65,535
.TQ 2.75in
\fBother_config : lacp-port-priority\fR
optional string, containing an integer, in range 1 to 65,535
.TQ 2.75in
\fBother_config : lacp-aggregation-key\fR
optional string, containing an integer, in range 1 to 65,535
.RE
.TQ .25in
\fIVirtual Machine Identifiers:\fR
.RS .25in
.TQ 2.75in
\fBexternal_ids : attached-mac\fR
optional string
.TQ 2.75in
\fBexternal_ids : iface-id\fR
optional string
.TQ 2.75in
\fBexternal_ids : xs-vif-uuid\fR
optional string
.TQ 2.75in
\fBexternal_ids : xs-network-uuid\fR
optional string
.TQ 2.75in
\fBexternal_ids : xs-vm-uuid\fR
optional string
.RE
.TQ .25in
\fIVLAN Splinters:\fR
.RS .25in
.TQ 2.75in
\fBother_config : enable-vlan-splinters\fR
optional string, either \fBtrue\fR or \fBfalse\fR
.RE
.TQ .25in
\fICommon Columns:\fR
.RS .25in
.TQ 2.75in
\fBother_config\fR
map of string-string pairs
.TQ 2.75in
\fBexternal_ids\fR
map of string-string pairs
.RE
.SS "Details:
.ST "Core Features:"
.IP "\fBname\fR: string (must be unique within table)"
Interface name.  Should be alphanumeric and no more than about 8 bytes
long.  May be the same as the port name, for non-bonded ports.  Must
otherwise be unique among the names of ports, interfaces, and bridges
on a host.
.IP "\fBmac\fR: optional string"
Ethernet address to set for this interface.  If unset then the
default MAC address is used:
.RS
.IP \(bu
For the local interface, the default is the lowest-numbered MAC
address among the other bridge ports, either the value of the
\fBmac\fR in its \fBPort\fR record,
if set, or its actual MAC (for bonded ports, the MAC of its slave
whose name is first in alphabetical order).  Internal ports and
bridge ports that are used as port mirroring destinations (see the
\fBMirror\fR table) are ignored.
.IP \(bu
For other internal interfaces, the default MAC is randomly
generated.
.IP \(bu
External interfaces typically have a MAC address associated with
their hardware.
.RE
.IP
Some interfaces may not have a software-controllable MAC
address.
.IP "\fBofport\fR: optional integer"
OpenFlow port number for this interface.  Unlike most columns, this
column\(cqs value should be set only by Open vSwitch itself.  Other
clients should set this column to an empty set (the default) when
creating an \fBInterface\fR\.
.IP
Open vSwitch populates this column when the port number becomes
known.  If the interface is successfully added,
\fBofport\fR will be set to a number between 1 and 65535
(generally either in the range 1 to 65279, inclusive, or 65534, the
port number for the OpenFlow ``local port\(cq\(cq).  If the interface
cannot be added then Open vSwitch sets this column
to -1.
.ST "System-Specific Details:"
.IP "\fBtype\fR: string"
The interface type, one of:
.RS
.TP
\fBsystem\fR
An ordinary network device, e.g. \fBeth0\fR on Linux.
Sometimes referred to as ``external interfaces\(cq\(cq since they are
generally connected to hardware external to that on which the Open
vSwitch is running.  The empty string is a synonym for
\fBsystem\fR\.
.TP
\fBinternal\fR
A simulated network device that sends and receives traffic.  An
internal interface whose \fBname\fR is the same as its
bridge\(cqs \fBname\fR is called the
``local interface.\(cq\(cq  It does not make sense to bond an internal
interface, so the terms ``port\(cq\(cq and ``interface\(cq\(cq are often used
imprecisely for internal interfaces.
.TP
\fBtap\fR
A TUN/TAP device managed by Open vSwitch.
.TP
\fBgre\fR
An Ethernet over RFC 2890 Generic Routing Encapsulation over IPv4
tunnel.  See \fBTunnel Options\fR for information on
configuring GRE tunnels.
.TP
\fBipsec_gre\fR
An Ethernet over RFC 2890 Generic Routing Encapsulation over IPv4
IPsec tunnel.
.TP
\fBcapwap\fR
An Ethernet tunnel over the UDP transport portion of CAPWAP (RFC
5415).  This allows interoperability with certain switches that do
not support GRE.  Only the tunneling component of the protocol is
implemented.  UDP ports 58881 and 58882 are used as the source and
destination ports respectively.  CAPWAP is currently supported only
with the Linux kernel datapath with kernel version 2.6.26 or later.
.TP
\fBpatch\fR
A pair of virtual devices that act as a patch cable.
.TP
\fBnull\fR
An ignored interface.
.RE
.ST "Tunnel Options:"
These options apply to interfaces with \fBtype\fR of
\fBgre\fR, \fBipsec_gre\fR, and \fBcapwap\fR\.
.PP
Each tunnel must be uniquely identified by the combination of \fBtype\fR, \fBoptions:remote_ip\fR, \fBoptions:local_ip\fR, and \fBoptions:in_key\fR\.  If two ports are defined that are the same except one
has an optional identifier and the other does not, the more specific
one is matched first.  \fBoptions:in_key\fR is
considered more specific than \fBoptions:local_ip\fR if
a port defines one and another port defines the other.
.IP "\fBoptions : remote_ip\fR: optional string"
Required.  The tunnel endpoint.  Unicast and multicast endpoints are
both supported.
.IP
When a multicast endpoint is specified, a routing table lookup occurs
only when the tunnel is created.  Following a routing change, delete
and then re-create the tunnel to force a new routing table lookup.
.IP "\fBoptions : local_ip\fR: optional string"
Optional.  The destination IP that received packets must match.
Default is to match all addresses.  Must be omitted when \fBoptions:remote_ip\fR is a multicast address.
.IP "\fBoptions : in_key\fR: optional string"
Optional.  The key that received packets must contain, one of:
.RS
.IP \(bu
\fB0\fR\.  The tunnel receives packets with no key or with a
key of 0.  This is equivalent to specifying no \fBoptions:in_key\fR at all.
.IP \(bu
A positive 32-bit (for GRE) or 64-bit (for CAPWAP) number.  The
tunnel receives only packets with the specified key.
.IP \(bu
The word \fBflow\fR\.  The tunnel accepts packets with any
key.  The key will be placed in the \fBtun_id\fR field for
matching in the flow table.  The \fBovs\-ofctl\fR manual page
contains additional information about matching fields in OpenFlow
flows.
.RE
.IP
.IP "\fBoptions : out_key\fR: optional string"
Optional.  The key to be set on outgoing packets, one of:
.RS
.IP \(bu
\fB0\fR\.  Packets sent through the tunnel will have no key.
This is equivalent to specifying no \fBoptions:out_key\fR at all.
.IP \(bu
A positive 32-bit (for GRE) or 64-bit (for CAPWAP) number.  Packets
sent through the tunnel will have the specified key.
.IP \(bu
The word \fBflow\fR\.  Packets sent through the tunnel will
have the key set using the \fBset_tunnel\fR Nicira OpenFlow
vendor extension (0 is used in the absence of an action).  The
\fBovs\-ofctl\fR manual page contains additional information
about the Nicira OpenFlow vendor extensions.
.RE
.IP "\fBoptions : key\fR: optional string"
Optional.  Shorthand to set \fBin_key\fR and
\fBout_key\fR at the same time.
.IP "\fBoptions : tos\fR: optional string"
Optional.  The value of the ToS bits to be set on the encapsulating
packet.  It may also be the word \fBinherit\fR, in which case
the ToS will be copied from the inner packet if it is IPv4 or IPv6
(otherwise it will be 0).  The ECN fields are always inherited.
Default is 0.
.IP "\fBoptions : ttl\fR: optional string"
Optional.  The TTL to be set on the encapsulating packet.  It may also
be the word \fBinherit\fR, in which case the TTL will be copied
from the inner packet if it is IPv4 or IPv6 (otherwise it will be the
system default, typically 64).  Default is the system default TTL.
.IP "\fBoptions : df_inherit\fR: optional string, either \fBtrue\fR or \fBfalse\fR"
Optional.  If enabled, the Don\(cqt Fragment bit will be copied from the
inner IP headers (those of the encapsulated traffic) to the outer
(tunnel) headers.  Default is disabled; set to \fBtrue\fR to
enable.
.IP "\fBoptions : df_default\fR: optional string, either \fBtrue\fR or \fBfalse\fR"
Optional.  If enabled, the Don\(cqt Fragment bit will be set by default on
tunnel headers if the \fBdf_inherit\fR option is not set, or if
the encapsulated packet is not IP.  Default is enabled; set to
\fBfalse\fR to disable.
.IP "\fBoptions : pmtud\fR: optional string, either \fBtrue\fR or \fBfalse\fR"
Optional.  Enable tunnel path MTU discovery.  If enabled ``ICMP
Destination Unreachable - Fragmentation Needed\(cq\(cq messages will be
generated for IPv4 packets with the DF bit set and IPv6 packets above
the minimum MTU if the packet size exceeds the path MTU minus the size
of the tunnel headers.  Note that this option causes behavior that is
typically reserved for routers and therefore is not entirely in
compliance with the IEEE 802.1D specification for bridges.  Default is
enabled; set to \fBfalse\fR to disable.
.ST "Tunnel Options: gre only:"
Only \fBgre\fR interfaces support these options.
.IP "\fBoptions : header_cache\fR: optional string, either \fBtrue\fR or \fBfalse\fR"
Enable caching of tunnel headers and the output path.  This can lead
to a significant performance increase without changing behavior.  In
general it should not be necessary to adjust this setting.  However,
the caching can bypass certain components of the IP stack (such as
\fBiptables\fR) and it may be useful to disable it if these
features are required or as a debugging measure.  Default is enabled,
set to \fBfalse\fR to disable.
.ST "Tunnel Options: gre and ipsec_gre only:"
Only \fBgre\fR and \fBipsec_gre\fR interfaces support
these options.
.IP "\fBoptions : csum\fR: optional string, either \fBtrue\fR or \fBfalse\fR"
Optional.  Compute GRE checksums on outgoing packets.  Default is
disabled, set to \fBtrue\fR to enable.  Checksums present on
incoming packets will be validated regardless of this setting.
.IP
GRE checksums impose a significant performance penalty because they
cover the entire packet.  The encapsulated L3, L4, and L7 packet
contents typically have their own checksums, so this additional
checksum only adds value for the GRE and encapsulated L2 headers.
.IP
This option is supported for \fBipsec_gre\fR, but not useful
because GRE checksums are weaker than, and redundant with, IPsec
payload authentication.
.ST "Tunnel Options: ipsec_gre only:"
Only \fBipsec_gre\fR interfaces support these options.
.IP "\fBoptions : peer_cert\fR: optional string"
Required for certificate authentication.  A string containing the
peer\(cqs certificate in PEM format.  Additionally the host\(cqs
certificate must be specified with the \fBcertificate\fR
option.
.IP "\fBoptions : certificate\fR: optional string"
Required for certificate authentication.  The name of a PEM file
containing a certificate that will be presented to the peer during
authentication.
.IP "\fBoptions : private_key\fR: optional string"
Optional for certificate authentication.  The name of a PEM file
containing the private key associated with \fBcertificate\fR\.
If \fBcertificate\fR contains the private key, this option may
be omitted.
.IP "\fBoptions : psk\fR: optional string"
Required for pre-shared key authentication.  Specifies a pre-shared
key for authentication that must be identical on both sides of the
tunnel.
.ST "Patch Options:"
Only \fBpatch\fR interfaces support these options.
.IP "\fBoptions : peer\fR: optional string"
The \fBname\fR of the \fBInterface\fR for the other
side of the patch.  The named \fBInterface\fR\(cqs own
\fBpeer\fR option must specify this \fBInterface\fR\(cqs
name.  That is, the two patch interfaces must have reversed \fBname\fR and \fBpeer\fR values.
.ST "Interface Status:"
Status information about interfaces attached to bridges, updated every
5 seconds.  Not all interfaces have all of these properties; virtual
interfaces don\(cqt have a link speed, for example.  Non-applicable
columns will have empty values.
.IP "\fBadmin_state\fR: optional string, either \fBdown\fR or \fBup\fR"
The administrative state of the physical network link.
.IP "\fBlink_state\fR: optional string, either \fBdown\fR or \fBup\fR"
The observed state of the physical network link.  This is ordinarily
the link\(cqs carrier status.  If the interface\(cqs \fBPort\fR is
a bond configured for miimon monitoring, it is instead the network
link\(cqs miimon status.
.IP "\fBlink_resets\fR: optional integer"
The number of times Open vSwitch has observed the
\fBlink_state\fR of this \fBInterface\fR change.
.IP "\fBlink_speed\fR: optional integer"
The negotiated speed of the physical network link.
Valid values are positive integers greater than 0.
.IP "\fBduplex\fR: optional string, either \fBfull\fR or \fBhalf\fR"
The duplex mode of the physical network link.
.IP "\fBmtu\fR: optional integer"
The MTU (maximum transmission unit); i.e. the largest
amount of data that can fit into a single Ethernet frame.
The standard Ethernet MTU is 1500 bytes.  Some physical media
and many kinds of virtual interfaces can be configured with
higher MTUs.
.IP
This column will be empty for an interface that does not
have an MTU as, for example, some kinds of tunnels do not.
.IP "\fBlacp_current\fR: optional boolean"
Boolean value indicating LACP status for this interface.  If true, this
interface has current LACP information about its LACP partner.  This
information may be used to monitor the health of interfaces in a LACP
enabled port.  This column will be empty if LACP is not enabled.
.IP "\fBstatus\fR: map of string-string pairs"
Key-value pairs that report port status.  Supported status values are
\fBtype\fR-dependent; some interfaces may not have a valid
\fBstatus:driver_name\fR, for example.
.IP "\fBstatus : driver_name\fR: optional string"
The name of the device driver controlling the network adapter.
.IP "\fBstatus : driver_version\fR: optional string"
The version string of the device driver controlling the network
adapter.
.IP "\fBstatus : firmware_version\fR: optional string"
The version string of the network adapter\(cqs firmware, if available.
.IP "\fBstatus : source_ip\fR: optional string"
The source IP address used for an IPv4 tunnel end-point, such as
\fBgre\fR or \fBcapwap\fR\.
.IP "\fBstatus : tunnel_egress_iface\fR: optional string"
Egress interface for tunnels.  Currently only relevant for GRE and
CAPWAP tunnels.  On Linux systems, this column will show the name of
the interface which is responsible for routing traffic destined for the
configured \fBoptions:remote_ip\fR\.  This could be an
internal interface such as a bridge port.
.IP "\fBstatus : tunnel_egress_iface_carrier\fR: optional string, either \fBdown\fR or \fBup\fR"
Whether carrier is detected on \fBstatus:tunnel_egress_iface\fR\.
.ST "Statistics:"
Key-value pairs that report interface statistics.  The current
implementation updates these counters periodically.  Future
implementations may update them when an interface is created, when they
are queried (e.g. using an OVSDB \fBselect\fR operation), and
just before an interface is deleted due to virtual interface hot-unplug
or VM shutdown, and perhaps at other times, but not on any regular
periodic basis.
.PP
These are the same statistics reported by OpenFlow in its \fBstruct
ofp_port_stats\fR structure.  If an interface does not support a
given statistic, then that pair is omitted.
.ST "Statistics: Successful transmit and receive counters:"
.IP "\fBstatistics : rx_packets\fR: optional integer"
Number of received packets.
.IP "\fBstatistics : rx_bytes\fR: optional integer"
Number of received bytes.
.IP "\fBstatistics : tx_packets\fR: optional integer"
Number of transmitted packets.
.IP "\fBstatistics : tx_bytes\fR: optional integer"
Number of transmitted bytes.
.ST "Statistics: Receive errors:"
.IP "\fBstatistics : rx_dropped\fR: optional integer"
Number of packets dropped by RX.
.IP "\fBstatistics : rx_frame_err\fR: optional integer"
Number of frame alignment errors.
.IP "\fBstatistics : rx_over_err\fR: optional integer"
Number of packets with RX overrun.
.IP "\fBstatistics : rx_crc_err\fR: optional integer"
Number of CRC errors.
.IP "\fBstatistics : rx_errors\fR: optional integer"
Total number of receive errors, greater than or equal to the sum of
the above.
.ST "Statistics: Transmit errors:"
.IP "\fBstatistics : tx_dropped\fR: optional integer"
Number of packets dropped by TX.
.IP "\fBstatistics : collisions\fR: optional integer"
Number of collisions.
.IP "\fBstatistics : tx_errors\fR: optional integer"
Total number of transmit errors, greater than or equal to the sum of
the above.
.ST "Ingress Policing:"
These settings control ingress policing for packets received on this
interface.  On a physical interface, this limits the rate at which
traffic is allowed into the system from the outside; on a virtual
interface (one connected to a virtual machine), this limits the rate at
which the VM is able to transmit.
.PP
Policing is a simple form of quality-of-service that simply drops
packets received in excess of the configured rate.  Due to its
simplicity, policing is usually less accurate and less effective than
egress QoS (which is configured using the \fBQoS\fR and \fBQueue\fR tables).
.PP
Policing is currently implemented only on Linux.  The Linux
implementation uses a simple ``token bucket\(cq\(cq approach:
.RS
.IP \(bu
The size of the bucket corresponds to \fBingress_policing_burst\fR\.  Initially the bucket is full.
.IP \(bu
Whenever a packet is received, its size (converted to tokens) is
compared to the number of tokens currently in the bucket.  If the
required number of tokens are available, they are removed and the
packet is forwarded.  Otherwise, the packet is dropped.
.IP \(bu
Whenever it is not full, the bucket is refilled with tokens at the
rate specified by \fBingress_policing_rate\fR\.
.RE
.PP
Policing interacts badly with some network protocols, and especially
with fragmented IP packets.  Suppose that there is enough network
activity to keep the bucket nearly empty all the time.  Then this token
bucket algorithm will forward a single packet every so often, with the
period depending on packet size and on the configured rate.  All of the
fragments of an IP packets are normally transmitted back-to-back, as a
group.  In such a situation, therefore, only one of these fragments
will be forwarded and the rest will be dropped.  IP does not provide
any way for the intended recipient to ask for only the remaining
fragments.  In such a case there are two likely possibilities for what
will happen next: either all of the fragments will eventually be
retransmitted (as TCP will do), in which case the same problem will
recur, or the sender will not realize that its packet has been dropped
and data will simply be lost (as some UDP-based protocols will do).
Either way, it is possible that no forward progress will ever occur.
.IP "\fBingress_policing_rate\fR: integer, at least 0"
Maximum rate for data received on this interface, in kbps.  Data
received faster than this rate is dropped.  Set to \fB0\fR
(the default) to disable policing.
.IP "\fBingress_policing_burst\fR: integer, at least 0"
Maximum burst size for data received on this interface, in kb.  The
default burst size if set to \fB0\fR is 1000 kb.  This value
has no effect if \fBingress_policing_rate\fR
is \fB0\fR\.
.IP
Specifying a larger burst size lets the algorithm be more forgiving,
which is important for protocols like TCP that react severely to
dropped packets.  The burst size should be at least the size of the
interface\(cqs MTU.  Specifying a value that is numerically at least as
large as 10% of \fBingress_policing_rate\fR helps TCP come
closer to achieving the full rate.
.ST "Connectivity Fault Management:"
802.1ag Connectivity Fault Management (CFM) allows a group of
Maintenance Points (MPs) called a Maintenance Association (MA) to
detect connectivity problems with each other.  MPs within a MA should
have complete and exclusive interconnectivity.  This is verified by
occasionally broadcasting Continuity Check Messages (CCMs) at a
configurable transmission interval.
.PP
According to the 802.1ag specification, each Maintenance Point should
be configured out-of-band with a list of Remote Maintenance Points it
should have connectivity to.  Open vSwitch differs from the
specification in this area.  It simply assumes the link is faulted if
no Remote Maintenance Points are reachable, and considers it not
faulted otherwise.
.IP "\fBcfm_mpid\fR: optional integer"
A Maintenance Point ID (MPID) uniquely identifies each endpoint within
a Maintenance Association.  The MPID is used to identify this endpoint
to other Maintenance Points in the MA.  Each end of a link being
monitored should have a different MPID.  Must be configured to enable
CFM on this \fBInterface\fR\.
.IP "\fBcfm_fault\fR: optional boolean"
Indicates a connectivity fault triggered by an inability to receive
heartbeats from any remote endpoint.  When a fault is triggered on
\fBInterface\fRs participating in bonds, they will be
disabled.
.IP
Faults can be triggered for several reasons.  Most importantly they
are triggered when no CCMs are received for a period of 3.5 times the
transmission interval. Faults are also triggered when any CCMs
indicate that a Remote Maintenance Point is not receiving CCMs but
able to send them.  Finally, a fault is triggered if a CCM is
received which indicates unexpected configuration.  Notably, this
case arises when a CCM is received which advertises the local MPID.
.IP "\fBcfm_remote_mpids\fR: set of integers"
When CFM is properly configured, Open vSwitch will occasionally
receive CCM broadcasts.  These broadcasts contain the MPID of the
sending Maintenance Point.  The list of MPIDs from which this
\fBInterface\fR is receiving broadcasts from is regularly
collected and written to this column.
.IP "\fBother_config : cfm_interval\fR: optional string, containing an integer"
The interval, in milliseconds, between transmissions of CFM heartbeats.
Three missed heartbeat receptions indicate a connectivity fault.
Defaults to 1000.
.IP "\fBother_config : cfm_extended\fR: optional string, either \fBtrue\fR or \fBfalse\fR"
When \fBtrue\fR, the CFM module operates in extended mode. This
causes it to use a nonstandard destination address to avoid conflicting
with compliant implementations which may be running concurrently on the
network. Furthermore, extended mode increases the accuracy of the
\fBcfm_interval\fR configuration parameter by breaking wire
compatibility with 802.1ag compliant implementations.  Defaults to
\fBfalse\fR\.
.IP "\fBother_config : cfm_opstate\fR: optional string, either \fBdown\fR or \fBup\fR"
When \fBdown\fR, the CFM module marks all CCMs it generates as
operationally down without triggering a fault.  This allows remote
maintenance points to choose not to forward traffic to the
\fBInterface\fR on which this CFM module is running.
Currently, in Open vSwitch, the opdown bit of CCMs affects
\fBInterface\fRs participating in bonds, and the bundle
OpenFlow action. This setting is ignored when CFM is not in extended
mode.  Defaults to \fBup\fR\.
.IP "\fBother_config : cfm_ccm_vlan\fR: optional string, containing an integer, in range 1 to 4,095"
When set, the CFM module will apply a VLAN tag to all CCMs it generates
with the given value.
.ST "Bonding Configuration:"
.IP "\fBother_config : bond-stable-id\fR: optional string, containing an integer, at least 1"
Used in \fBstable\fR bond mode to make slave
selection decisions.  Allocating \fBother_config:bond-stable-id\fR values consistently across interfaces
participating in a bond will guarantee consistent slave selection
decisions across \fBovs\-vswitchd\fR instances when using
\fBstable\fR bonding mode.
.IP "\fBother_config : lacp-port-id\fR: optional string, containing an integer, in range 1 to 65,535"
The LACP port ID of this \fBInterface\fR\.  Port IDs are
used in LACP negotiations to identify individual ports
participating in a bond.
.IP "\fBother_config : lacp-port-priority\fR: optional string, containing an integer, in range 1 to 65,535"
The LACP port priority of this \fBInterface\fR\.  In LACP
negotiations \fBInterface\fRs with numerically lower
priorities are preferred for aggregation.
.IP "\fBother_config : lacp-aggregation-key\fR: optional string, containing an integer, in range 1 to 65,535"
The LACP aggregation key of this \fBInterface\fR\.  \fBInterface\fRs with different aggregation keys may not be active
within a given \fBPort\fR at the same time.
.ST "Virtual Machine Identifiers:"
These key-value pairs specifically apply to an interface that
represents a virtual Ethernet interface connected to a virtual
machine.  These key-value pairs should not be present for other types
of interfaces.  Keys whose names end in \fB\-uuid\fR have
values that uniquely identify the entity in question.  For a Citrix
XenServer hypervisor, these values are UUIDs in RFC 4122 format.
Other hypervisors may use other formats.
.IP "\fBexternal_ids : attached-mac\fR: optional string"
The MAC address programmed into the ``virtual hardware\(cq\(cq for this
interface, in the form
\fIxx\fR:\fIxx\fR:\fIxx\fR:\fIxx\fR:\fIxx\fR:\fIxx\fR\.
For Citrix XenServer, this is the value of the \fBMAC\fR field
in the VIF record for this interface.
.IP "\fBexternal_ids : iface-id\fR: optional string"
A system-unique identifier for the interface.  On XenServer, this will
commonly be the same as \fBexternal_ids:xs-vif-uuid\fR\.
.IP "\fBexternal_ids : xs-vif-uuid\fR: optional string"
The virtual interface associated with this interface.
.IP "\fBexternal_ids : xs-network-uuid\fR: optional string"
The virtual network to which this interface is attached.
.IP "\fBexternal_ids : xs-vm-uuid\fR: optional string"
The VM to which this interface belongs.
.ST "VLAN Splinters:"
The ``VLAN splinters\(cq\(cq feature increases Open vSwitch compatibility
with buggy network drivers in old versions of Linux that do not
properly support VLANs when VLAN devices are not used, at some cost
in memory and performance.
.PP
When VLAN splinters are enabled on a particular interface, Open vSwitch
creates a VLAN device for each in-use VLAN.  For sending traffic tagged
with a VLAN on the interface, it substitutes the VLAN device.  Traffic
received on the VLAN device is treated as if it had been received on
the interface on the particular VLAN.
.PP
VLAN splinters consider a VLAN to be in use if:
.RS
.IP \(bu
The VLAN is the \fBtag\fR value in any \fBPort\fR record.
.IP \(bu
The VLAN is listed within the \fBtrunks\fR
column of the \fBPort\fR record of an interface on which
VLAN splinters are enabled.
An empty \fBtrunks\fR does not influence the
in-use VLANs: creating 4,096 VLAN devices is impractical because it
will exceed the current 1,024 port per datapath limit.
.IP \(bu
An OpenFlow flow within any bridge matches the VLAN.
.RE
.PP
The same set of in-use VLANs applies to every interface on which VLAN
splinters are enabled.  That is, the set is not chosen separately for
each interface but selected once as the union of all in-use VLANs based
on the rules above.
.PP
It does not make sense to enable VLAN splinters on an interface for an
access port, or on an interface that is not a physical port.
.PP
VLAN splinters are deprecated.  When broken device drivers are no
longer in widespread use, we will delete this feature.
.IP "\fBother_config : enable-vlan-splinters\fR: optional string, either \fBtrue\fR or \fBfalse\fR"
Set to \fBtrue\fR to enable VLAN splinters on this interface.
Defaults to \fBfalse\fR\.
.IP
VLAN splinters increase kernel and userspace memory overhead, so do
not use them unless they are needed.
.ST "Common Columns:"
The overall purpose of these columns is described under \fBCommon
Columns\fR at the beginning of this document.
.IP "\fBother_config\fR: map of string-string pairs"
.IP "\fBexternal_ids\fR: map of string-string pairs"
.bp
.SH "QoS TABLE"
Quality of Service (QoS) configuration for each Port that
references it.
.SS "Summary:
.TQ 3.00in
\fBtype\fR
string
.TQ 3.00in
\fBqueues\fR
map of integer-\fBQueue\fR pairs, key in range 0 to 4,294,967,295
.TQ .25in
\fIConfiguration for linux-htb and linux-hfsc:\fR
.RS .25in
.TQ 2.75in
\fBother_config : max-rate\fR
optional string, containing an integer
.RE
.TQ .25in
\fICommon Columns:\fR
.RS .25in
.TQ 2.75in
\fBother_config\fR
map of string-string pairs
.TQ 2.75in
\fBexternal_ids\fR
map of string-string pairs
.RE
.SS "Details:
.IP "\fBtype\fR: string"
The type of QoS to implement.  The \fBcapabilities\fR column in the \fBOpen_vSwitch\fR table
identifies the types that a switch actually supports.  The currently
defined types are listed below:
.RS
.TP
\fBlinux\-htb\fR
Linux ``hierarchy token bucket\(cq\(cq classifier.  See tc-htb(8) (also at
\fBhttp://linux.die.net/man/8/tc\-htb\fR) and the HTB manual
(\fBhttp://luxik.cdi.cz/~devik/qos/htb/manual/userg.htm\fR)
for information on how this classifier works and how to configure it.
.RE
.RS
.TP
\fBlinux\-hfsc\fR
Linux \(dqHierarchical Fair Service Curve\(dq classifier.
See \fBhttp://linux\-ip.net/articles/hfsc.en/\fR for
information on how this classifier works.
.RE
.IP "\fBqueues\fR: map of integer-\fBQueue\fR pairs, key in range 0 to 4,294,967,295"
A map from queue numbers to \fBQueue\fR records.  The
supported range of queue numbers depend on \fBtype\fR\.  The
queue numbers are the same as the \fBqueue_id\fR used in
OpenFlow in \fBstruct ofp_action_enqueue\fR and other
structures.  Queue 0 is used by OpenFlow output actions that do not
specify a specific queue.
.ST "Configuration for linux-htb and linux-hfsc:"
The \fBlinux\-htb\fR and \fBlinux\-hfsc\fR classes support
the following key-value pair:
.IP "\fBother_config : max-rate\fR: optional string, containing an integer"
Maximum rate shared by all queued traffic, in bit/s.  Optional.  If not
specified, for physical interfaces, the default is the link rate.  For
other interfaces or if the link rate cannot be determined, the default
is currently 100 Mbps.
.ST "Common Columns:"
The overall purpose of these columns is described under \fBCommon
Columns\fR at the beginning of this document.
.IP "\fBother_config\fR: map of string-string pairs"
.IP "\fBexternal_ids\fR: map of string-string pairs"
.bp
.SH "Queue TABLE"
A configuration for a port output queue, used in configuring Quality of
Service (QoS) features.  May be referenced by \fBqueues\fR column in \fBQoS\fR table.
.SS "Summary:
.TQ 3.00in
\fBdscp\fR
optional integer, in range 0 to 63
.TQ .25in
\fIConfiguration for min-rate QoS:\fR
.RS .25in
.TQ 2.75in
\fBother_config : min-rate\fR
optional string, containing an integer, at least 12,000
.RE
.TQ .25in
\fIConfiguration for linux-htb QoS:\fR
.RS .25in
.TQ 2.75in
\fBother_config : min-rate\fR
optional string, containing an integer, at least 1
.TQ 2.75in
\fBother_config : max-rate\fR
optional string, containing an integer, at least 1
.TQ 2.75in
\fBother_config : burst\fR
optional string, containing an integer, at least 1
.TQ 2.75in
\fBother_config : priority\fR
optional string, containing an integer, in range 0 to 4,294,967,295
.RE
.TQ .25in
\fIConfiguration for linux-hfsc QoS:\fR
.RS .25in
.TQ 2.75in
\fBother_config : min-rate\fR
optional string, containing an integer, at least 1
.TQ 2.75in
\fBother_config : max-rate\fR
optional string, containing an integer, at least 1
.RE
.TQ .25in
\fICommon Columns:\fR
.RS .25in
.TQ 2.75in
\fBother_config\fR
map of string-string pairs
.TQ 2.75in
\fBexternal_ids\fR
map of string-string pairs
.RE
.SS "Details:
.IP "\fBdscp\fR: optional integer, in range 0 to 63"
If set, Open vSwitch will mark all traffic egressing this
\fBQueue\fR with the given DSCP bits.  Traffic egressing the
default \fBQueue\fR is only marked if it was explicitly selected
as the \fBQueue\fR at the time the packet was output.  If unset,
the DSCP bits of traffic egressing this \fBQueue\fR will remain
unchanged.
.ST "Configuration for min-rate QoS:"
These key-value pairs are defined for \fBQoS\fR \fBtype\fR of \fBmin\-rate\fR\.
.IP "\fBother_config : min-rate\fR: optional string, containing an integer, at least 12,000"
Minimum guaranteed bandwidth, in bit/s.  Required.  The floor value is
1500 bytes/s (12,000 bit/s).
.ST "Configuration for linux-htb QoS:"
These key-value pairs are defined for \fBQoS\fR \fBtype\fR of \fBlinux\-htb\fR\.
.IP "\fBother_config : min-rate\fR: optional string, containing an integer, at least 1"
Minimum guaranteed bandwidth, in bit/s.
.IP "\fBother_config : max-rate\fR: optional string, containing an integer, at least 1"
Maximum allowed bandwidth, in bit/s.  Optional.  If specified, the
queue\(cqs rate will not be allowed to exceed the specified value, even
if excess bandwidth is available.  If unspecified, defaults to no
limit.
.IP "\fBother_config : burst\fR: optional string, containing an integer, at least 1"
Burst size, in bits.  This is the maximum amount of ``credits\(cq\(cq that a
queue can accumulate while it is idle.  Optional.  Details of the
\fBlinux\-htb\fR implementation require a minimum burst size, so
a too-small \fBburst\fR will be silently ignored.
.IP "\fBother_config : priority\fR: optional string, containing an integer, in range 0 to 4,294,967,295"
A queue with a smaller \fBpriority\fR will receive all the
excess bandwidth that it can use before a queue with a larger value
receives any.  Specific priority values are unimportant; only relative
ordering matters.  Defaults to 0 if unspecified.
.ST "Configuration for linux-hfsc QoS:"
These key-value pairs are defined for \fBQoS\fR \fBtype\fR of \fBlinux\-hfsc\fR\.
.IP "\fBother_config : min-rate\fR: optional string, containing an integer, at least 1"
Minimum guaranteed bandwidth, in bit/s.
.IP "\fBother_config : max-rate\fR: optional string, containing an integer, at least 1"
Maximum allowed bandwidth, in bit/s.  Optional.  If specified, the
queue\(cqs rate will not be allowed to exceed the specified value, even if
excess bandwidth is available.  If unspecified, defaults to no
limit.
.ST "Common Columns:"
The overall purpose of these columns is described under \fBCommon
Columns\fR at the beginning of this document.
.IP "\fBother_config\fR: map of string-string pairs"
.IP "\fBexternal_ids\fR: map of string-string pairs"
.bp
.SH "Mirror TABLE"
A port mirror within a \fBBridge\fR\.
.PP
A port mirror configures a bridge to send selected frames to special
``mirrored\(cq\(cq ports, in addition to their normal destinations.  Mirroring
traffic may also be referred to as SPAN or RSPAN, depending on how
the mirrored traffic is sent.
.SS "Summary:
.TQ 3.00in
\fBname\fR
string
.TQ .25in
\fISelecting Packets for Mirroring:\fR
.RS .25in
.TQ 2.75in
\fBselect_all\fR
boolean
.TQ 2.75in
\fBselect_dst_port\fR
set of weak reference to \fBPort\fRs
.TQ 2.75in
\fBselect_src_port\fR
set of weak reference to \fBPort\fRs
.TQ 2.75in
\fBselect_vlan\fR
set of up to 4,096 integers, in range 0 to 4,095
.RE
.TQ .25in
\fIMirroring Destination Configuration:\fR
.RS .25in
.TQ 2.75in
\fBoutput_port\fR
optional weak reference to \fBPort\fR
.TQ 2.75in
\fBoutput_vlan\fR
optional integer, in range 1 to 4,095
.RE
.TQ .25in
\fIStatistics: Mirror counters:\fR
.RS .25in
.TQ 2.75in
\fBstatistics : tx_packets\fR
optional integer
.TQ 2.75in
\fBstatistics : tx_bytes\fR
optional integer
.RE
.TQ .25in
\fICommon Columns:\fR
.RS .25in
.TQ 2.75in
\fBexternal_ids\fR
map of string-string pairs
.RE
.SS "Details:
.IP "\fBname\fR: string"
Arbitrary identifier for the \fBMirror\fR\.
.ST "Selecting Packets for Mirroring:"
To be selected for mirroring, a given packet must enter or leave the
bridge through a selected port and it must also be in one of the
selected VLANs.
.IP "\fBselect_all\fR: boolean"
If true, every packet arriving or departing on any port is
selected for mirroring.
.IP "\fBselect_dst_port\fR: set of weak reference to \fBPort\fRs"
Ports on which departing packets are selected for mirroring.
.IP "\fBselect_src_port\fR: set of weak reference to \fBPort\fRs"
Ports on which arriving packets are selected for mirroring.
.IP "\fBselect_vlan\fR: set of up to 4,096 integers, in range 0 to 4,095"
VLANs on which packets are selected for mirroring.  An empty set
selects packets on all VLANs.
.ST "Mirroring Destination Configuration:"
These columns are mutually exclusive.  Exactly one of them must be
nonempty.
.IP "\fBoutput_port\fR: optional weak reference to \fBPort\fR"
Output port for selected packets, if nonempty.
.IP
Specifying a port for mirror output reserves that port exclusively
for mirroring.  No frames other than those selected for mirroring
via this column
will be forwarded to the port, and any frames received on the port
will be discarded.
.IP
The output port may be any kind of port supported by Open vSwitch.
It may be, for example, a physical port (sometimes called SPAN) or a
GRE tunnel.
.IP "\fBoutput_vlan\fR: optional integer, in range 1 to 4,095"
Output VLAN for selected packets, if nonempty.
.IP
The frames will be sent out all ports that trunk
\fBoutput_vlan\fR, as well as any ports with implicit VLAN
\fBoutput_vlan\fR\.  When a mirrored frame is sent out a
trunk port, the frame\(cqs VLAN tag will be set to
\fBoutput_vlan\fR, replacing any existing tag; when it is
sent out an implicit VLAN port, the frame will not be tagged.  This
type of mirroring is sometimes called RSPAN.
.IP
The following destination MAC addresses will not be mirrored to a
VLAN to avoid confusing switches that interpret the protocols that
they represent:
.RS
.TP
\fB01:80:c2:00:00:00\fR
IEEE 802.1D Spanning Tree Protocol (STP).
.TP
\fB01:80:c2:00:00:01\fR
IEEE Pause frame.
.TP
\fB01:80:c2:00:00:0\fIx\fB\fR
Other reserved protocols.
.TP
\fB01:00:0c:cc:cc:cc\fR
Cisco Discovery Protocol (CDP), VLAN Trunking Protocol (VTP),
Dynamic Trunking Protocol (DTP), Port Aggregation Protocol (PAgP),
and others.
.TP
\fB01:00:0c:cc:cc:cd\fR
Cisco Shared Spanning Tree Protocol PVSTP+.
.TP
\fB01:00:0c:cd:cd:cd\fR
Cisco STP Uplink Fast.
.TP
\fB01:00:0c:00:00:00\fR
Cisco Inter Switch Link.
.RE
.IP
\fBPlease note:\fR Mirroring to a VLAN can disrupt a network that
contains unmanaged switches.  Consider an unmanaged physical switch
with two ports: port 1, connected to an end host, and port 2,
connected to an Open vSwitch configured to mirror received packets
into VLAN 123 on port 2.  Suppose that the end host sends a packet on
port 1 that the physical switch forwards to port 2.  The Open vSwitch
forwards this packet to its destination and then reflects it back on
port 2 in VLAN 123.  This reflected packet causes the unmanaged
physical switch to replace the MAC learning table entry, which
correctly pointed to port 1, with one that incorrectly points to port
2.  Afterward, the physical switch will direct packets destined for
the end host to the Open vSwitch on port 2, instead of to the end
host on port 1, disrupting connectivity.  If mirroring to a VLAN is
desired in this scenario, then the physical switch must be replaced
by one that learns Ethernet addresses on a per-VLAN basis.  In
addition, learning should be disabled on the VLAN containing mirrored
traffic. If this is not done then intermediate switches will learn
the MAC address of each end host from the mirrored traffic.  If
packets being sent to that end host are also mirrored, then they will
be dropped since the switch will attempt to send them out the input
port. Disabling learning for the VLAN will cause the switch to
correctly send the packet out all ports configured for that VLAN.  If
Open vSwitch is being used as an intermediate switch, learning can be
disabled by adding the mirrored VLAN to \fBflood_vlans\fR
in the appropriate \fBBridge\fR table or tables.
.IP
Mirroring to a GRE tunnel has fewer caveats than mirroring to a
VLAN and should generally be preferred.
.ST "Statistics: Mirror counters:"
Key-value pairs that report mirror statistics.
.IP "\fBstatistics : tx_packets\fR: optional integer"
Number of packets transmitted through this mirror.
.IP "\fBstatistics : tx_bytes\fR: optional integer"
Number of bytes transmitted through this mirror.
.ST "Common Columns:"
The overall purpose of these columns is described under \fBCommon
Columns\fR at the beginning of this document.
.IP "\fBexternal_ids\fR: map of string-string pairs"
.bp
.SH "Controller TABLE"
An OpenFlow controller.
.PP
Open vSwitch supports two kinds of OpenFlow controllers:
.RS
.TP
Primary controllers
This is the kind of controller envisioned by the OpenFlow 1.0
specification.  Usually, a primary controller implements a network
policy by taking charge of the switch\(cqs flow table.
.IP
Open vSwitch initiates and maintains persistent connections to
primary controllers, retrying the connection each time it fails or
drops.  The \fBfail_mode\fR column in the
\fBBridge\fR table applies to primary controllers.
.IP
Open vSwitch permits a bridge to have any number of primary
controllers.  When multiple controllers are configured, Open
vSwitch connects to all of them simultaneously.  Because
OpenFlow 1.0 does not specify how multiple controllers
coordinate in interacting with a single switch, more than
one primary controller should be specified only if the
controllers are themselves designed to coordinate with each
other.  (The Nicira-defined \fBNXT_ROLE\fR OpenFlow
vendor extension may be useful for this.)
.TP
Service controllers
These kinds of OpenFlow controller connections are intended for
occasional support and maintenance use, e.g. with
\fBovs\-ofctl\fR\.  Usually a service controller connects only
briefly to inspect or modify some of a switch\(cqs state.
.IP
Open vSwitch listens for incoming connections from service
controllers.  The service controllers initiate and, if necessary,
maintain the connections from their end.  The \fBfail_mode\fR column in the \fBBridge\fR table does
not apply to service controllers.
.IP
Open vSwitch supports configuring any number of service controllers.
.RE
.PP
The \fBtarget\fR determines the type of controller.
.SS "Summary:
.TQ .25in
\fICore Features:\fR
.RS .25in
.TQ 2.75in
\fBtarget\fR
string
.TQ 2.75in
\fBconnection_mode\fR
optional string, either \fBin\-band\fR or \fBout\-of\-band\fR
.RE
.TQ .25in
\fIController Failure Detection and Handling:\fR
.RS .25in
.TQ 2.75in
\fBmax_backoff\fR
optional integer, at least 1,000
.TQ 2.75in
\fBinactivity_probe\fR
optional integer
.RE
.TQ .25in
\fIOpenFlow Rate Limiting:\fR
.RS .25in
.TQ 2.75in
\fBcontroller_rate_limit\fR
optional integer, at least 100
.TQ 2.75in
\fBcontroller_burst_limit\fR
optional integer, at least 25
.RE
.TQ .25in
\fIAdditional In-Band Configuration:\fR
.RS .25in
.TQ 2.75in
\fBlocal_ip\fR
optional string
.TQ 2.75in
\fBlocal_netmask\fR
optional string
.TQ 2.75in
\fBlocal_gateway\fR
optional string
.RE
.TQ .25in
\fIController Status:\fR
.RS .25in
.TQ 2.75in
\fBis_connected\fR
boolean
.TQ 2.75in
\fBrole\fR
optional string, one of \fBslave\fR, \fBother\fR, or \fBmaster\fR
.TQ 2.75in
\fBstatus : last_error\fR
optional string
.TQ 2.75in
\fBstatus : state\fR
optional string, one of \fBACTIVE\fR, \fBVOID\fR, \fBCONNECTING\fR, \fBIDLE\fR, or \fBBACKOFF\fR
.TQ 2.75in
\fBstatus : sec_since_connect\fR
optional string, containing an integer, at least 0
.TQ 2.75in
\fBstatus : sec_since_disconnect\fR
optional string, containing an integer, at least 1
.RE
.TQ .25in
\fICommon Columns:\fR
.RS .25in
.TQ 2.75in
\fBexternal_ids\fR
map of string-string pairs
.RE
.SS "Details:
.ST "Core Features:"
.IP "\fBtarget\fR: string"
Connection method for controller.
.IP
The following connection methods are currently supported for primary
controllers:
.RS
.TP
\fBssl:\fIip\fB\fR[\fB:\fIport\fB\fR]
The specified SSL \fIport\fR (default: 6633) on the host at
the given \fIip\fR, which must be expressed as an IP address
(not a DNS name).  The \fBssl\fR
column in the \fBOpen_vSwitch\fR table must point to a
valid SSL configuration when this form is used.
.IP
SSL support is an optional feature that is not always built as
part of Open vSwitch.
.TP
\fBtcp:\fIip\fB\fR[\fB:\fIport\fB\fR]
The specified TCP \fIport\fR (default: 6633) on the host at
the given \fIip\fR, which must be expressed as an IP address
(not a DNS name).
.RE
.IP
The following connection methods are currently supported for service
controllers:
.RS
.TP
\fBpssl:\fR[\fIport\fR][\fB:\fIip\fB\fR]
Listens for SSL connections on the specified TCP \fIport\fR
(default: 6633).  If \fIip\fR, which must be expressed as an
IP address (not a DNS name), is specified, then connections are
restricted to the specified local IP address.
.IP
The \fBssl\fR column in the \fBOpen_vSwitch\fR table must point to a valid SSL
configuration when this form is used.
.IP
SSL support is an optional feature that is not always built as
part of Open vSwitch.
.TP
\fBptcp:\fR[\fIport\fR][\fB:\fIip\fB\fR]
Listens for connections on the specified TCP \fIport\fR
(default: 6633).  If \fIip\fR, which must be expressed as an
IP address (not a DNS name), is specified, then connections are
restricted to the specified local IP address.
.RE
.IP
When multiple controllers are configured for a single bridge, the
\fBtarget\fR values must be unique.  Duplicate
\fBtarget\fR values yield unspecified results.
.IP "\fBconnection_mode\fR: optional string, either \fBin\-band\fR or \fBout\-of\-band\fR"
If it is specified, this setting must be one of the following
strings that describes how Open vSwitch contacts this OpenFlow
controller over the network:
.RS
.TP
\fBin\-band\fR
In this mode, this controller\(cqs OpenFlow traffic travels over the
bridge associated with the controller.  With this setting, Open
vSwitch allows traffic to and from the controller regardless of the
contents of the OpenFlow flow table.  (Otherwise, Open vSwitch
would never be able to connect to the controller, because it did
not have a flow to enable it.)  This is the most common connection
mode because it is not necessary to maintain two independent
networks.
.TP
\fBout\-of\-band\fR
In this mode, OpenFlow traffic uses a control network separate
from the bridge associated with this controller, that is, the
bridge does not use any of its own network devices to communicate
with the controller.  The control network must be configured
separately, before or after \fBovs\-vswitchd\fR is started.
.RE
.IP
If not specified, the default is implementation-specific.
.ST "Controller Failure Detection and Handling:"
.IP "\fBmax_backoff\fR: optional integer, at least 1,000"
Maximum number of milliseconds to wait between connection attempts.
Default is implementation-specific.
.IP "\fBinactivity_probe\fR: optional integer"
Maximum number of milliseconds of idle time on connection to
controller before sending an inactivity probe message.  If Open
vSwitch does not communicate with the controller for the specified
number of seconds, it will send a probe.  If a response is not
received for the same additional amount of time, Open vSwitch
assumes the connection has been broken and attempts to reconnect.
Default is implementation-specific.  A value of 0 disables
inactivity probes.
.ST "OpenFlow Rate Limiting:"
.IP "\fBcontroller_rate_limit\fR: optional integer, at least 100"
The maximum rate at which packets in unknown flows will be
forwarded to the OpenFlow controller, in packets per second.  This
feature prevents a single bridge from overwhelming the controller.
If not specified, the default is implementation-specific.
.IP
In addition, when a high rate triggers rate-limiting, Open
vSwitch queues controller packets for each port and transmits
them to the controller at the configured rate.  The number of
queued packets is limited by
the \fBcontroller_burst_limit\fR value.  The packet
queue is shared fairly among the ports on a bridge.
.IP
Open
vSwitch maintains two such packet rate-limiters per bridge.
One of these applies to packets sent up to the controller
because they do not correspond to any flow.  The other applies
to packets sent up to the controller by request through flow
actions. When both rate-limiters are filled with packets, the
actual rate that packets are sent to the controller is up to
twice the specified rate.
.IP "\fBcontroller_burst_limit\fR: optional integer, at least 25"
In conjunction with \fBcontroller_rate_limit\fR,
the maximum number of unused packet credits that the bridge will
allow to accumulate, in packets.  If not specified, the default
is implementation-specific.
.ST "Additional In-Band Configuration:"
These values are considered only in in-band control mode (see
\fBconnection_mode\fR).
.PP
When multiple controllers are configured on a single bridge, there
should be only one set of unique values in these columns.  If different
values are set for these columns in different controllers, the effect
is unspecified.
.IP "\fBlocal_ip\fR: optional string"
The IP address to configure on the local port,
e.g. \fB192.168.0.123\fR\.  If this value is unset, then
\fBlocal_netmask\fR and \fBlocal_gateway\fR are
ignored.
.IP "\fBlocal_netmask\fR: optional string"
The IP netmask to configure on the local port,
e.g. \fB255.255.255.0\fR\.  If \fBlocal_ip\fR is set
but this value is unset, then the default is chosen based on whether
the IP address is class A, B, or C.
.IP "\fBlocal_gateway\fR: optional string"
The IP address of the gateway to configure on the local port, as a
string, e.g. \fB192.168.0.1\fR\.  Leave this column unset if
this network has no gateway.
.ST "Controller Status:"
.IP "\fBis_connected\fR: boolean"
\fBtrue\fR if currently connected to this controller,
\fBfalse\fR otherwise.
.IP "\fBrole\fR: optional string, one of \fBslave\fR, \fBother\fR, or \fBmaster\fR"
The level of authority this controller has on the associated
bridge. Possible values are:
.RS
.TP
\fBother\fR
Allows the controller access to all OpenFlow features.
.TP
\fBmaster\fR
Equivalent to \fBother\fR, except that there may be at
most one master controller at a time.  When a controller configures
itself as \fBmaster\fR, any existing master is demoted to
the \fBslave\fRrole.
.TP
\fBslave\fR
Allows the controller read-only access to OpenFlow features.
Attempts to modify the flow table will be rejected with an
error.  Slave controllers do not receive OFPT_PACKET_IN or
OFPT_FLOW_REMOVED messages, but they do receive OFPT_PORT_STATUS
messages.
.RE
.IP "\fBstatus : last_error\fR: optional string"
A human-readable description of the last error on the connection
to the controller; i.e. \fBstrerror(errno)\fR\.  This key
will exist only if an error has occurred.
.IP "\fBstatus : state\fR: optional string, one of \fBACTIVE\fR, \fBVOID\fR, \fBCONNECTING\fR, \fBIDLE\fR, or \fBBACKOFF\fR"
The state of the connection to the controller:
.RS
.TP
\fBVOID\fR
Connection is disabled.
.TP
\fBBACKOFF\fR
Attempting to reconnect at an increasing period.
.TP
\fBCONNECTING\fR
Attempting to connect.
.TP
\fBACTIVE\fR
Connected, remote host responsive.
.TP
\fBIDLE\fR
Connection is idle.  Waiting for response to keep-alive.
.RE
.IP
These values may change in the future.  They are provided only for
human consumption.
.IP "\fBstatus : sec_since_connect\fR: optional string, containing an integer, at least 0"
The amount of time since this controller last successfully connected to
the switch (in seconds).  Value is empty if controller has never
successfully connected.
.IP "\fBstatus : sec_since_disconnect\fR: optional string, containing an integer, at least 1"
The amount of time since this controller last disconnected from
the switch (in seconds). Value is empty if controller has never
disconnected.
.ST "Common Columns:"
The overall purpose of these columns is described under \fBCommon
Columns\fR at the beginning of this document.
.IP "\fBexternal_ids\fR: map of string-string pairs"
.bp
.SH "Manager TABLE"
Configuration for a database connection to an Open vSwitch database
(OVSDB) client.
.PP
This table primarily configures the Open vSwitch database
(\fBovsdb\-server\fR), not the Open vSwitch switch
(\fBovs\-vswitchd\fR).  The switch does read the table to determine
what connections should be treated as in-band.
.PP
The Open vSwitch database server can initiate and maintain active
connections to remote clients.  It can also listen for database
connections.
.SS "Summary:
.TQ .25in
\fICore Features:\fR
.RS .25in
.TQ 2.75in
\fBtarget\fR
string (must be unique within table)
.TQ 2.75in
\fBconnection_mode\fR
optional string, either \fBin\-band\fR or \fBout\-of\-band\fR
.RE
.TQ .25in
\fIClient Failure Detection and Handling:\fR
.RS .25in
.TQ 2.75in
\fBmax_backoff\fR
optional integer, at least 1,000
.TQ 2.75in
\fBinactivity_probe\fR
optional integer
.RE
.TQ .25in
\fIStatus:\fR
.RS .25in
.TQ 2.75in
\fBis_connected\fR
boolean
.TQ 2.75in
\fBstatus : last_error\fR
optional string
.TQ 2.75in
\fBstatus : state\fR
optional string, one of \fBACTIVE\fR, \fBVOID\fR, \fBCONNECTING\fR, \fBIDLE\fR, or \fBBACKOFF\fR
.TQ 2.75in
\fBstatus : sec_since_connect\fR
optional string, containing an integer, at least 0
.TQ 2.75in
\fBstatus : sec_since_disconnect\fR
optional string, containing an integer, at least 0
.TQ 2.75in
\fBstatus : locks_held\fR
optional string
.TQ 2.75in
\fBstatus : locks_waiting\fR
optional string
.TQ 2.75in
\fBstatus : locks_lost\fR
optional string
.TQ 2.75in
\fBstatus : n_connections\fR
optional string, containing an integer, at least 2
.RE
.TQ .25in
\fICommon Columns:\fR
.RS .25in
.TQ 2.75in
\fBexternal_ids\fR
map of string-string pairs
.RE
.SS "Details:
.ST "Core Features:"
.IP "\fBtarget\fR: string (must be unique within table)"
Connection method for managers.
.IP
The following connection methods are currently supported:
.RS
.TP
\fBssl:\fIip\fB\fR[\fB:\fIport\fB\fR]
The specified SSL \fIport\fR (default: 6632) on the host at
the given \fIip\fR, which must be expressed as an IP address
(not a DNS name).  The \fBssl\fR
column in the \fBOpen_vSwitch\fR table must point to a
valid SSL configuration when this form is used.
.IP
SSL support is an optional feature that is not always built as
part of Open vSwitch.
.TP
\fBtcp:\fIip\fB\fR[\fB:\fIport\fB\fR]
The specified TCP \fIport\fR (default: 6632) on the host at
the given \fIip\fR, which must be expressed as an IP address
(not a DNS name).
.TP
\fBpssl:\fR[\fIport\fR][\fB:\fIip\fB\fR]
Listens for SSL connections on the specified TCP \fIport\fR
(default: 6632).  If \fIip\fR, which must be expressed as an
IP address (not a DNS name), is specified, then connections are
restricted to the specified local IP address.
.IP
The \fBssl\fR column in the \fBOpen_vSwitch\fR table must point to a valid SSL
configuration when this form is used.
.IP
SSL support is an optional feature that is not always built as
part of Open vSwitch.
.TP
\fBptcp:\fR[\fIport\fR][\fB:\fIip\fB\fR]
Listens for connections on the specified TCP \fIport\fR
(default: 6632).  If \fIip\fR, which must be expressed as an
IP address (not a DNS name), is specified, then connections are
restricted to the specified local IP address.
.RE
.IP
When multiple managers are configured, the \fBtarget\fR
values must be unique.  Duplicate \fBtarget\fR values yield
unspecified results.
.IP "\fBconnection_mode\fR: optional string, either \fBin\-band\fR or \fBout\-of\-band\fR"
If it is specified, this setting must be one of the following strings
that describes how Open vSwitch contacts this OVSDB client over the
network:
.RS
.TP
\fBin\-band\fR
In this mode, this connection\(cqs traffic travels over a bridge
managed by Open vSwitch.  With this setting, Open vSwitch allows
traffic to and from the client regardless of the contents of the
OpenFlow flow table.  (Otherwise, Open vSwitch would never be able
to connect to the client, because it did not have a flow to enable
it.)  This is the most common connection mode because it is not
necessary to maintain two independent networks.
.TP
\fBout\-of\-band\fR
In this mode, the client\(cqs traffic uses a control network separate
from that managed by Open vSwitch, that is, Open vSwitch does not
use any of its own network devices to communicate with the client.
The control network must be configured separately, before or after
\fBovs\-vswitchd\fR is started.
.RE
.IP
If not specified, the default is implementation-specific.
.ST "Client Failure Detection and Handling:"
.IP "\fBmax_backoff\fR: optional integer, at least 1,000"
Maximum number of milliseconds to wait between connection attempts.
Default is implementation-specific.
.IP "\fBinactivity_probe\fR: optional integer"
Maximum number of milliseconds of idle time on connection to the client
before sending an inactivity probe message.  If Open vSwitch does not
communicate with the client for the specified number of seconds, it
will send a probe.  If a response is not received for the same
additional amount of time, Open vSwitch assumes the connection has been
broken and attempts to reconnect.  Default is implementation-specific.
A value of 0 disables inactivity probes.
.ST "Status:"
.IP "\fBis_connected\fR: boolean"
\fBtrue\fR if currently connected to this manager,
\fBfalse\fR otherwise.
.IP "\fBstatus : last_error\fR: optional string"
A human-readable description of the last error on the connection
to the manager; i.e. \fBstrerror(errno)\fR\.  This key
will exist only if an error has occurred.
.IP "\fBstatus : state\fR: optional string, one of \fBACTIVE\fR, \fBVOID\fR, \fBCONNECTING\fR, \fBIDLE\fR, or \fBBACKOFF\fR"
The state of the connection to the manager:
.RS
.TP
\fBVOID\fR
Connection is disabled.
.TP
\fBBACKOFF\fR
Attempting to reconnect at an increasing period.
.TP
\fBCONNECTING\fR
Attempting to connect.
.TP
\fBACTIVE\fR
Connected, remote host responsive.
.TP
\fBIDLE\fR
Connection is idle.  Waiting for response to keep-alive.
.RE
.IP
These values may change in the future.  They are provided only for
human consumption.
.IP "\fBstatus : sec_since_connect\fR: optional string, containing an integer, at least 0"
The amount of time since this manager last successfully connected
to the database (in seconds). Value is empty if manager has never
successfully connected.
.IP "\fBstatus : sec_since_disconnect\fR: optional string, containing an integer, at least 0"
The amount of time since this manager last disconnected from the
database (in seconds). Value is empty if manager has never
disconnected.
.IP "\fBstatus : locks_held\fR: optional string"
Space-separated list of the names of OVSDB locks that the connection
holds.  Omitted if the connection does not hold any locks.
.IP "\fBstatus : locks_waiting\fR: optional string"
Space-separated list of the names of OVSDB locks that the connection is
currently waiting to acquire.  Omitted if the connection is not waiting
for any locks.
.IP "\fBstatus : locks_lost\fR: optional string"
Space-separated list of the names of OVSDB locks that the connection
has had stolen by another OVSDB client.  Omitted if no locks have been
stolen from this connection.
.IP "\fBstatus : n_connections\fR: optional string, containing an integer, at least 2"
When \fBtarget\fR specifies a connection method that
listens for inbound connections (e.g. \fBptcp:\fR or
\fBpssl:\fR) and more than one connection is actually active,
the value is the number of active connections.  Otherwise, this
key-value pair is omitted.
.IP
When multiple connections are active, status columns and key-value
pairs (other than this one) report the status of one arbitrarily
chosen connection.
.ST "Common Columns:"
The overall purpose of these columns is described under \fBCommon
Columns\fR at the beginning of this document.
.IP "\fBexternal_ids\fR: map of string-string pairs"
.bp
.SH "NetFlow TABLE"
A NetFlow target.  NetFlow is a protocol that exports a number of
details about terminating IP flows, such as the principals involved
and duration.
.SS "Summary:
.TQ 3.00in
\fBtargets\fR
set of 1 or more strings
.TQ 3.00in
\fBengine_id\fR
optional integer, in range 0 to 255
.TQ 3.00in
\fBengine_type\fR
optional integer, in range 0 to 255
.TQ 3.00in
\fBactive_timeout\fR
integer, at least -1
.TQ 3.00in
\fBadd_id_to_interface\fR
boolean
.TQ .25in
\fICommon Columns:\fR
.RS .25in
.TQ 2.75in
\fBexternal_ids\fR
map of string-string pairs
.RE
.SS "Details:
.IP "\fBtargets\fR: set of 1 or more strings"
NetFlow targets in the form
\fB\fIip\fB:\fIport\fB\fR\.  The \fIip\fR
must be specified numerically, not as a DNS name.
.IP "\fBengine_id\fR: optional integer, in range 0 to 255"
Engine ID to use in NetFlow messages.  Defaults to datapath index
if not specified.
.IP "\fBengine_type\fR: optional integer, in range 0 to 255"
Engine type to use in NetFlow messages.  Defaults to datapath
index if not specified.
.IP "\fBactive_timeout\fR: integer, at least -1"
The interval at which NetFlow records are sent for flows that are
still active, in seconds.  A value of \fB0\fR requests the
default timeout (currently 600 seconds); a value of \fB\-1\fR
disables active timeouts.
.IP "\fBadd_id_to_interface\fR: boolean"
If this column\(cqs value is \fBfalse\fR, the ingress and egress
interface fields of NetFlow flow records are derived from OpenFlow port
numbers.  When it is \fBtrue\fR, the 7 most significant bits of
these fields will be replaced by the least significant 7 bits of the
engine id.  This is useful because many NetFlow collectors do not
expect multiple switches to be sending messages from the same host, so
they do not store the engine information which could be used to
disambiguate the traffic.
.IP
When this option is enabled, a maximum of 508 ports are supported.
.ST "Common Columns:"
The overall purpose of these columns is described under \fBCommon
Columns\fR at the beginning of this document.
.IP "\fBexternal_ids\fR: map of string-string pairs"
.bp
.SH "SSL TABLE"
SSL configuration for an Open_vSwitch.
.SS "Summary:
.TQ 3.00in
\fBprivate_key\fR
string
.TQ 3.00in
\fBcertificate\fR
string
.TQ 3.00in
\fBca_cert\fR
string
.TQ 3.00in
\fBbootstrap_ca_cert\fR
boolean
.TQ .25in
\fICommon Columns:\fR
.RS .25in
.TQ 2.75in
\fBexternal_ids\fR
map of string-string pairs
.RE
.SS "Details:
.IP "\fBprivate_key\fR: string"
Name of a PEM file containing the private key used as the switch\(cqs
identity for SSL connections to the controller.
.IP "\fBcertificate\fR: string"
Name of a PEM file containing a certificate, signed by the
certificate authority (CA) used by the controller and manager,
that certifies the switch\(cqs private key, identifying a trustworthy
switch.
.IP "\fBca_cert\fR: string"
Name of a PEM file containing the CA certificate used to verify
that the switch is connected to a trustworthy controller.
.IP "\fBbootstrap_ca_cert\fR: boolean"
If set to \fBtrue\fR, then Open vSwitch will attempt to
obtain the CA certificate from the controller on its first SSL
connection and save it to the named PEM file. If it is successful,
it will immediately drop the connection and reconnect, and from then
on all SSL connections must be authenticated by a certificate signed
by the CA certificate thus obtained.  \fBThis option exposes the
SSL connection to a man\-in\-the\-middle attack obtaining the initial
CA certificate.\fR  It may still be useful for bootstrapping.
.ST "Common Columns:"
The overall purpose of these columns is described under \fBCommon
Columns\fR at the beginning of this document.
.IP "\fBexternal_ids\fR: map of string-string pairs"
.bp
.SH "sFlow TABLE"
An sFlow(R) target.  sFlow is a protocol for remote monitoring
of switches.
.SS "Summary:
.TQ 3.00in
\fBagent\fR
optional string
.TQ 3.00in
\fBheader\fR
optional integer
.TQ 3.00in
\fBpolling\fR
optional integer
.TQ 3.00in
\fBsampling\fR
optional integer
.TQ 3.00in
\fBtargets\fR
set of 1 or more strings
.TQ .25in
\fICommon Columns:\fR
.RS .25in
.TQ 2.75in
\fBexternal_ids\fR
map of string-string pairs
.RE
.SS "Details:
.IP "\fBagent\fR: optional string"
Name of the network device whose IP address should be reported as the
``agent address\(cq\(cq to collectors.  If not specified, the IP address
defaults to the \fBlocal_ip\fR in the
collector\(cqs \fBController\fR\.  If an agent IP address cannot be
determined either way, sFlow is disabled.
.IP "\fBheader\fR: optional integer"
Number of bytes of a sampled packet to send to the collector.
If not specified, the default is 128 bytes.
.IP "\fBpolling\fR: optional integer"
Polling rate in seconds to send port statistics to the collector.
If not specified, defaults to 30 seconds.
.IP "\fBsampling\fR: optional integer"
Rate at which packets should be sampled and sent to the collector.
If not specified, defaults to 400, which means one out of 400
packets, on average, will be sent to the collector.
.IP "\fBtargets\fR: set of 1 or more strings"
sFlow targets in the form
\fB\fIip\fB:\fIport\fB\fR\.
.ST "Common Columns:"
The overall purpose of these columns is described under \fBCommon
Columns\fR at the beginning of this document.
.IP "\fBexternal_ids\fR: map of string-string pairs"
.bp
.SH "Capability TABLE"
Records in this table describe functionality supported by the hardware
and software platform on which this Open vSwitch is based.  Clients
should not modify this table.
.PP
A record in this table is meaningful only if it is referenced by the
\fBcapabilities\fR column in the
\fBOpen_vSwitch\fR table.  The key used to reference it, called
the record\(cqs ``category,\(cq\(cq determines the meanings of the
\fBdetails\fR column.  The following general forms of
categories are currently defined:
.RS
.TP
\fBqos\-\fItype\fB\fR
\fItype\fR is supported as the value for
\fBtype\fR in the \fBQoS\fR table.
.RE
.SS "Summary:
.TQ 3.00in
\fBdetails\fR
map of string-string pairs
.SS "Details:
.IP "\fBdetails\fR: map of string-string pairs"
Key-value pairs that describe capabilities.  The meaning of the pairs
depends on the category key that the \fBcapabilities\fR column in the \fBOpen_vSwitch\fR table
uses to reference this record, as described above.
.IP
The presence of a record for category \fBqos\-\fItype\fB\fR
indicates that the switch supports \fItype\fR as the value of
the \fBtype\fR column in the \fBQoS\fR
table.  The following key-value pairs are defined to further describe
QoS capabilities:
.RS
.TP
\fBn\-queues\fR
Number of supported queues, as a positive integer.  Keys in the
\fBqueues\fR column for \fBQoS\fR
records whose \fBtype\fR value
equals \fItype\fR must range between 0 and this value minus one,
inclusive.
.RE
